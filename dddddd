

local PLACE_ID = game.PlaceId






    local Players = game:GetService("Players")
    local ReplicatedStorage = game:GetService("ReplicatedStorage")
    local Workspace = game:GetService("Workspace")
    local RunService = game:GetService("RunService")
    local VirtualInputManager = game:GetService("VirtualInputManager")

    local Player = Players.LocalPlayer
    local Character = Player.Character or Player.CharacterAdded:Wait()
    local HRP = Character:WaitForChild("HumanoidRootPart")
    -- ‚≠ê‚≠ê ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ ‚≠ê‚≠ê
local lastProgressCheck = tick()
local lastTotalProgress = 0
local lastEggCheck = tick()
local lastEggProgress = 0


    local WORLD_ORDER = {

        "Lobby",
        "Grassland",
        "Jungle",
        "Volcano",
        "Tundra",
        "Ocean",
        "Desert",
        "Fantasy",
        "Toxic",
        "Prehistoric",
        "Shinrin"
    }

    local WORLD_IDS = {

        Lobby      = 3475397644,
        Grassland    = 3475419198,
        Jungle       = 3475422608,
        Volcano      = 3487210751,
        Tundra       = 3623549100,
        Ocean        = 3737848045,
        Desert       = 3752680052,
        Fantasy      = 4174118306,
        Toxic    = 4728805070,
        Prehistoric  = 4869039553,
        Shinrin      = 125804922932357
    }
--------------------------
-- üåç ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏Ñ‡∏ß‡∏™‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÇ‡∏•‡∏Å‡πÅ‡∏ö‡∏ö‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏° PlaceId
------------------------------------------------------------
local WORLD_MISSION_REQUIREMENTS = {


    [3475397644] = { -- Origins / Lobby
        WorldName = "Lobby",
        Missions = {
        EggQuest    = 1,
        RidingRing  = 10,
        }
    },

    [3475419198] = { -- Grassland
        WorldName = "Grassland",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
        }
    },

    [3475422608] = { -- Jungle
        WorldName = "Jungle",
        Missions = {
       EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },


  [3487210751] = { -- Volcano
        WorldName = "Volcano",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },

    [3623549100] = { -- Volcano
        WorldName = "Tundra",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },



     [3737848045] = { -- Volcano
        WorldName = "Ocean",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },
       [3752680052] = { -- Volcano
        WorldName = "Desert",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },
       [4174118306] = { -- Volcano
        WorldName = "Fantasy",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },
       [4728805070] = { -- Volcano
        WorldName = "Toxic",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },
       [4869039553] = { -- Volcano
        WorldName = "Prehistoric",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },
       [125804922932357] = { -- Volcano
        WorldName = "Shinrin",
        Missions = {
            EggQuest        = 5,
            KillMobs        = 15,
            Harvest         = 50,
            TreasureChest   = 3,
            KillBoss        = 1,
            SpendTime       = 450,
        }
    },
}
task.spawn(function()
    while true do
        task.wait(5) -- ‡πÑ‡∏°‡πà‡∏ñ‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ
        pcall(function()
            local args = {"1"}
            game:GetService("ReplicatedStorage").Remotes.EquipDragonRemote:InvokeServer(unpack(args))
        end)
    end
end)

------------------------------------------------------------
-- ü•ö Anti-Stuck ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏Ñ‡∏ß‡∏™‡πÑ‡∏Ç‡πà ‚Üí 2 ‡∏ô‡∏≤‡∏ó‡∏µ‡πÑ‡∏°‡πà‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤ = Hop ‡∏¢‡πâ‡∏≠‡∏ô‡πÇ‡∏•‡∏Å
------------------------------------------------------------
task.spawn(function()
    while true do
        task.wait(5)

        -- ‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡πà‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏ó‡∏≥‡πÄ‡∏Ñ‡∏ß‡∏™‡πÑ‡∏Ç‡πà‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
        if not isEggDone() then
            local currentProg = getMissionValue("EggQuest")

            -- ‡∏ñ‡πâ‡∏≤ progress ‡∏Ç‡∏¢‡∏±‡∏ö ‚Üí ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏ß‡∏•‡∏≤
            if currentProg > lastEggProgress then
                lastEggProgress = currentProg
                lastEggCheck = tick()

            else
                -- ‡πÑ‡∏°‡πà‡∏Ç‡∏¢‡∏±‡∏ö‡πÄ‡∏•‡∏¢ ‚Üí ‡πÄ‡∏ä‡πá‡∏Ñ‡∏Ñ‡∏£‡∏ö 120 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
                if tick() - lastEggCheck >= 120 then
                    print("‚õî [EGG ANTI-STUCK] ‡πÄ‡∏Ñ‡∏ß‡∏™‡πÑ‡∏Ç‡πà‡πÑ‡∏°‡πà‡∏Ç‡∏¢‡∏±‡∏ö‡πÄ‡∏Å‡∏¥‡∏ô 2 ‡∏ô‡∏≤‡∏ó‡∏µ ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏¢‡πâ‡∏≠‡∏ô‡πÇ‡∏•‡∏Å")
                    hopToPreviousWorld()

                    -- ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡πà‡∏≤
                    lastEggCheck = tick()
                end
            end
        else
            -- ‡∏ñ‡πâ‡∏≤‡πÄ‡∏Ñ‡∏ß‡∏™‡πÑ‡∏Ç‡πà‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï timer
            lastEggProgress = getMissionValue("EggQuest")
            lastEggCheck = tick()
        end
    end
end)




local function hasNestPath()
    local env = workspace:FindFirstChild("Environment")
    if not env then return false end

    local nest = env:FindFirstChild("Nest")
    if not nest then return false end

    local egg = nest:FindFirstChild("Egg") or nest:FindFirstChild("EggModel")
    return egg ~= nil
end

local function getTotalMissionProgress()
    local placeId = game.PlaceId
    local config = WORLD_MISSION_REQUIREMENTS[placeId]
    if not config then return 0 end

    local worldName = config.WorldName
    local missions = config.Missions

    local sum = 0
    for missionName, _ in pairs(missions) do
        local ok, value = pcall(function()
            return Player.Data.WorldMissions[worldName].Missions[missionName].Progress.Value
        end)
        sum += (ok and value or 0)
    end

    return sum
end
local function isWorldFullyCompletedById(placeId)
    local config = WORLD_MISSION_REQUIREMENTS[placeId]
    if not config then
        warn("‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Ñ‡∏ß‡∏™‡∏Ç‡∏≠‡∏á‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ:", placeId)
        return false
    end

    local worldName = config.WorldName

    local ok, result = pcall(function()
        -- ‚úÖ ‡πÄ‡∏ä‡πá‡∏Ñ TotalCompleted ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡πÅ‡∏£‡∏Å
        local worldData = Player.Data.WorldMissions[worldName]
        local totalCompletedValue = worldData:FindFirstChild("TotalCompleted")

        if totalCompletedValue then
            local requiredTotal = 0

            -- üåç ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤ TotalCompleted ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÇ‡∏•‡∏Å
            if placeId == 3475397644 then
                requiredTotal = 2  -- Lobby
            elseif placeId == 3475419198 then
                requiredTotal = 4  -- Grassland
            else
                requiredTotal = 6  -- ‡πÇ‡∏•‡∏Å‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠
            end

            -- ‚≠ê ‡∏ñ‡πâ‡∏≤ TotalCompleted ‡∏Ñ‡∏£‡∏ö‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£
            if totalCompletedValue.Value >= requiredTotal then
                print(string.format("‚úÖ %s TotalCompleted = %d/%d (‡∏Ñ‡∏£‡∏ö‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡∏Ç‡πâ‡∏≤‡∏°)", 
                    worldName, totalCompletedValue.Value, requiredTotal))
                return true
            else
                print(string.format("‚ö†Ô∏è %s TotalCompleted = %d/%d (‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö ‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡πÄ‡∏Ñ‡∏ß‡∏™)", 
                    worldName, totalCompletedValue.Value, requiredTotal))
                return false
            end
        else
            warn("‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏û‡∏ö TotalCompleted ‡πÉ‡∏ô‡πÇ‡∏•‡∏Å:", worldName)
            -- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ TotalCompleted ‡πÉ‡∏´‡πâ‡πÄ‡∏ä‡πá‡∏Ñ‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°
            local missionFolder = worldData.Missions
            local missionList = config.Missions

            for missionName, required in pairs(missionList) do
                local mission = missionFolder:FindFirstChild(missionName)
                if mission and mission:FindFirstChild("Progress") then
                    if mission.Progress.Value < required then
                        return false
                    end
                end
            end

            return true
        end
    end)

    if not ok then
        warn("‚ö†Ô∏è ‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏Ñ‡∏ß‡∏™‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î:", worldName, result)
        return false
    end

    return result
end
local function getNextUnfinishedWorld()
    for _, worldName in ipairs(WORLD_ORDER) do
        local placeId = WORLD_IDS[worldName]

        if WORLD_MISSION_REQUIREMENTS[placeId] then
            if not isWorldFullyCompletedById(placeId) then
                return worldName, placeId
            end
        end
    end

    return nil, nil
end
local function teleportToNextNeededWorld()
    local nextWorldName, nextPlaceId = getNextUnfinishedWorld()

    if not nextWorldName then
        print("üéâ ‡∏ó‡∏∏‡∏Å‡πÇ‡∏•‡∏Å‡∏ó‡∏≥‡∏Ñ‡∏£‡∏ö‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß!")
        return
    end

    print("üåç ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡πÇ‡∏•‡∏Å‡∏ï‡πà‡∏≠‡πÑ‡∏õ:", nextWorldName, "‚Üí", nextPlaceId)

    -- üëá ‡πÉ‡∏ä‡πâ Remote ‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
    local args = {
        nextPlaceId,
        {}
    }

    local ok, result = pcall(function()
        return ReplicatedStorage.Remotes.WorldTeleportRemote:InvokeServer(unpack(args))
    end)

    if ok then
        print("üöÄ ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:", nextWorldName)
    else
        warn("‚ùå ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î:", result)
    end
end


local function hopToPreviousWorld()
    local currentWorld = getWorldNameById(game.PlaceId)
    if not currentWorld then return end

    local index = table.find(WORLD_ORDER, currentWorld)
    if not index then return end

    local prevIndex = index - 1
    if prevIndex < 1 then
        prevIndex = index   -- ‡πÇ‡∏•‡∏Å‡πÅ‡∏£‡∏Å = hop ‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏î‡∏¥‡∏°
    end

    local prevWorld = WORLD_ORDER[prevIndex]
    local prevId = WORLD_IDS[prevWorld]

    print("üîÅ Anti-Stuck: Hop ‡πÑ‡∏õ‡πÇ‡∏•‡∏Å‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤ ‚Üí", prevWorld)

    pcall(function()
        ReplicatedStorage.Remotes.WorldTeleportRemote:InvokeServer(prevId, {})
    end)
end




local function detectCurrentWorldFolder()
    local wm = Player.Data:WaitForChild("WorldMissions")

    for _, folder in ipairs(wm:GetChildren()) do
        local missions = folder:FindFirstChild("Missions")
        if missions then
            return folder.Name
        end
    end

    return nil
end





local function getEggProgress()
    local ok, value = pcall(function()
        return Player.Data.WorldMissions["Lobby"].Missions.EggQuest.Progress.Value
    end)
    return ok and value or 0
end

local function isLobbyEggDone()
    return getEggProgress() >= 1
end


local function getKillProgress()
    local ok, value = pcall(function()
        return Player.Data.WorldMissions[currentWorldName].Missions.KillMobs.Progress.Value
    end)
    return ok and value or 0
end

local function getHarvestProgress()
    local ok, value = pcall(function()
        return Player.Data.WorldMissions[currentWorldName].Missions.Harvest.Progress.Value
    end)
    return ok and value or 0
end
local function getTreasureProgress()
    local ok, value = pcall(function()
        return Player.Data.WorldMissions[currentWorldName].Missions.TreasureChest.Progress.Value
    end)
    return ok and value or 0
end

-- ‚≠ê ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‚≠ê
local function getSpendTimeProgress()
    local ok, value = pcall(function()
        return Player.Data.WorldMissions[currentWorldName].Missions.SpendTime.Progress.Value
    end)
    return ok and value or 0
end

local function getRidingProgress()
    local ok, value = pcall(function()
        return LocalPlayer.Data.WorldMissions["Lobby"].Missions.RidingRing.Progress.Value
    end)
    return ok and value or 0
end


    ----------------------------------------------------
    -- üêâ ‡∏Ç‡∏µ‡πà + ‡∏ü‡∏∑‡πâ‡∏ô‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏≤‡∏Å workspace.Characters.PlayerName.Dragons)
    ----------------------------------------------------

    local player = game.Players.LocalPlayer
    local char = player.Character or player.CharacterAdded:Wait()
    local remotes = game:GetService("ReplicatedStorage"):WaitForChild("Remotes")

    -- üß© ‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏°‡∏±‡∏á‡∏Å‡∏£‡πÉ‡∏ô workspace
    local dragonFolder = workspace:WaitForChild("Characters")
        :WaitForChild(player.Name)
        :WaitForChild("Dragons")

    -- üß© ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏≤‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏ï‡∏±‡∏ß‡πÅ‡∏£‡∏Å‡πÉ‡∏ô Dragons
    local function getAutoDragon()
        local dragons = dragonFolder:GetChildren()
        if #dragons > 0 then
            return dragons[1]
        else
            return nil
        end
    end

    -- üß© ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ü‡∏∑‡πâ‡∏ô‡∏°‡∏±‡∏á‡∏Å‡∏£
    local function reviveDragon(dragonModel)
        local dragonName = dragonModel.Name
        local deadFlag = dragonModel:FindFirstChild("Data") and dragonModel.Data:FindFirstChild("Dead")

        if deadFlag and deadFlag.Value == true then
            print("üíÄ ‡∏°‡∏±‡∏á‡∏Å‡∏£", dragonName, "‡∏ï‡∏≤‡∏¢ ‚Äî ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ü‡∏∑‡πâ‡∏ô‡∏Ñ‡∏∑‡∏ô‡∏ä‡∏µ‡∏û...")
            local args = { dragonName, "DragonRevivalHeart" }

            local success, err = pcall(function()
                remotes:WaitForChild("ReviveDragonRemote"):InvokeServer(unpack(args))
            end)

            if success then
                print("‚ù§Ô∏è ‡∏ü‡∏∑‡πâ‡∏ô‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:", dragonName)
                task.wait(1)
            else
                warn("‚ùå ‡∏ü‡∏∑‡πâ‡∏ô‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß:", err)
            end
        end
    end

    -- üß† ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏•‡∏±‡∏Å (‡∏ü‡∏∑‡πâ‡∏ô + ‡∏Ç‡∏µ‡πà)
    local function ensureMountedDragon()
        local dragonModel = getAutoDragon()
        if not dragonModel then
            warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏°‡∏±‡∏á‡∏Å‡∏£‡πÉ‡∏ô workspace.Characters." .. player.Name .. ".Dragons")
            return
        end

        local targetName = dragonModel.Name

        -- üîç ‡∏ï‡∏£‡∏ß‡∏à‡∏Å‡∏≤‡∏£‡∏ï‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏Å‡πà‡∏≠‡∏ô
        reviveDragon(dragonModel)

        -- ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡∏Ç‡∏µ‡πà‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏´‡∏°
        local humanoid = char:FindFirstChildOfClass("Humanoid")
        local currentSeat = humanoid and humanoid.SeatPart
        local currentMount = currentSeat and currentSeat:FindFirstAncestorWhichIsA("Model")

        if currentMount and currentMount:IsDescendantOf(dragonFolder) and currentMount.Name == targetName then
            return -- ‡∏Ç‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
        end

        -- ‚úÖ ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Ç‡∏µ‡πà ‚Üí ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å Seat ‡πÉ‡∏´‡∏°‡πà
        local seat = dragonModel:FindFirstChildWhichIsA("Seat", true)
        if seat then
            seat:Sit(humanoid)
            print("ü™∂ ‡∏Ç‡∏µ‡πà‡∏°‡∏±‡∏á‡∏Å‡∏£:", targetName)

            task.wait(1)
            local flyBtn = player.PlayerGui
                :WaitForChild("HUDGui")
                .BottomFrame.CurrentDragonFrame.DragonControlsFrame.Other:FindFirstChild("Fly")

            if flyBtn and flyBtn:FindFirstChild("MouseButton1Down") then
                firesignal(flyBtn.MouseButton1Down)
                print("üõ´ ‡∏ö‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß!")
            end
        else
            warn("‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏û‡∏ö Seat ‡πÉ‡∏ô‡∏°‡∏±‡∏á‡∏Å‡∏£:", targetName)
        end
    end

    -- üîÅ ‡∏ï‡∏£‡∏ß‡∏à‡∏ã‡πâ‡∏≥‡∏ó‡∏∏‡∏Å 1 ‡∏ß‡∏¥ (‡∏ü‡∏∑‡πâ‡∏ô + ‡∏Ç‡∏µ‡πà‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)
    task.spawn(function()
        while true do
            task.wait(1)
            pcall(ensureMountedDragon)
        end
    end)

    -- üîÅ ‡∏ñ‡πâ‡∏≤‡∏ï‡∏≤‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏µ‡∏™‡∏õ‡∏≤‡∏ß‡∏ô‡πå ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏´‡∏°‡πà
    player.CharacterAdded:Connect(function(newChar)
        task.wait(3)
        char = newChar
        pcall(ensureMountedDragon)
    end)


    local Players = game:GetService("Players")
    local LocalPlayer = Players.LocalPlayer
    local RunService = game:GetService("RunService")
    local UIS = game:GetService("UserInputService")

    ------------------------------------------------------------
    -- ‚öôÔ∏è ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î FlyControlUseSpace
    ------------------------------------------------------------
    local function enableFlyControlUseSpace()
        local success, err = pcall(function()
            -- ‡∏´‡∏≤‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á Setting
            local data = LocalPlayer:WaitForChild("Data", 5)
            if not data then 
                warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö Data folder")
                return 
            end

            local settings = data:WaitForChild("Settings", 5)
            if not settings then 
                warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö Settings folder")
                return 
            end

            local flyControlValue = settings:FindFirstChild("FlyControlUseSpace")
            if not flyControlValue then 
                warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö FlyControlUseSpace")
                return 
            end

            -- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤
            if flyControlValue.Value == true then
                flyControlValue.Value = false
                print("‚úÖ ‡πÄ‡∏õ‡∏¥‡∏î FlyControlUseSpace = true ‡πÅ‡∏•‡πâ‡∏ß")
            else
                print("‚úÖ FlyControlUseSpace ‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß (true)")
            end
        end)

        if not success then
            warn("‚ùå Error ‡∏ï‡∏≠‡∏ô‡πÄ‡∏ä‡πá‡∏Ñ FlyControlUseSpace:", err)
        end
    end

    ------------------------------------------------------------
    -- ‚å®Ô∏è ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Q
    ------------------------------------------------------------
    local function pressQ()
        -- ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Q ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ VirtualInputManager
        local VirtualInputManager = game:GetService("VirtualInputManager")

        -- ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Q ‡∏•‡∏á
        VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.Q, false, game)

        -- ‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà
        task.wait(0.05)

        -- ‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏õ‡∏∏‡πà‡∏° Q
        VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.Q, false, game)
    end

    ------------------------------------------------------------
    -- üõ©Ô∏è ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏ß‡∏à  ‡∏Ç‡∏≠‡∏á‡∏°‡∏±‡∏á‡∏Å‡∏£ (‡∏Å‡∏±‡∏ô nil 100%)
    ------------------------------------------------------------
    local function getDragonFlyingState()
        -- ‡∏£‡∏≠ Character ‡∏ñ‡πâ‡∏≤‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏°‡πà‡∏ó‡∏±‡∏ô
        local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
        if not char then return false end

        -- ‡∏´‡∏≤‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå Dragons
        local dragonsFolder = char:FindFirstChild("Dragons")
        if not dragonsFolder then return false end

        -- ‡∏ß‡∏ô‡∏´‡∏≤‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏°‡∏µ Data.Flying
        for _, dragon in ipairs(dragonsFolder:GetChildren()) do
            if dragon:IsA("Model") then
                local dataFolder = dragon:FindFirstChild("Data")
                if dataFolder then
                    local flyingValue = dataFolder:FindFirstChild("Flying")
                    if flyingValue and flyingValue.Value ~= nil then
                        return flyingValue.Value  -- true ‡∏´‡∏£‡∏∑‡∏≠ false
                    end
                end
            end
        end

        return false
    end

    ------------------------------------------------------------
    -- üîÑ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ù‡πâ‡∏≤‡∏î‡∏π‡πÅ‡∏•‡∏∞‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Q ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
    ------------------------------------------------------------
    local function startFlyingMonitor()
        task.spawn(function()
            while true do
                task.wait(0.5)  -- ‡∏•‡∏î‡πÄ‡∏ß‡∏•‡∏≤ wait ‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 0.5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô

                local isFlying = false
                local ok, result = pcall(function()
                    return getDragonFlyingState()
                end)

                if ok then
                    isFlying = result
                else
                    warn("‚ùå getDragonFlyingState Error:", result)
                end

                if not isFlying then
                    print("‚ö†Ô∏è ‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏ï‡∏Å / ‡πÑ‡∏°‡πà‡∏ö‡∏¥‡∏ô ‚Üí ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Q!")

                    -- ‡∏•‡∏≠‡∏á‡∏Å‡∏î Q 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡πà‡πÉ‡∏à
                    pressQ()
                    task.wait(0.1)
                    pressQ()
                else
                    print("")
                end
            end
        end)
    end

    ------------------------------------------------------------
    -- üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    ------------------------------------------------------------
    print("üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Q ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏±‡∏á‡∏Å‡∏£‡πÑ‡∏°‡πà‡∏ö‡∏¥‡∏ô")

    -- ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î FlyControlUseSpace ‡∏Å‡πà‡∏≠‡∏ô
    enableFlyControlUseSpace()

    -- ‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà‡πÉ‡∏´‡πâ Setting ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó
    task.wait(0.5)

    -- ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ù‡πâ‡∏≤‡∏î‡∏π
    startFlyingMonitor()






    ---------------------------------------------------
    -- üåç GET CURRENT WORLD NAME
    ------------------------------------------------------------
    local function getWorldNameById(id)
        for name, wid in pairs(WORLD_IDS) do
            if wid == id then return name end
        end
        return nil
    end

    local currentWorldName = getWorldNameById(game.PlaceId)
    if not currentWorldName then
        warn("‚ùå ‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö WORLD_IDS:", game.PlaceId)
        return
    end

    local function getMissionValue(missionName)
        local ok, result = pcall(function()
            return Player.Data.WorldMissions[currentWorldName].Missions[missionName].Progress.Value
        end)
        return ok and result or 0
    end

    local function isMissionDone(missionName, required)
        return getMissionValue(missionName) >= required
    end

    
-- üñ•Ô∏è MISSION GUI HUD (‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏à‡∏≠ ‡∏ï‡∏±‡∏ß‡πÉ‡∏´‡∏ç‡πà)
------------------------------------------------------------
local missionGui
local missionWorldLabel
local missionCurrentLabel
local missionLabels = {}          -- [missionName] = TextLabel
local missionConfigForGui = nil   -- ‡πÄ‡∏Å‡πá‡∏ö config ‡∏Ç‡∏≠‡∏á‡πÇ‡∏•‡∏Å‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
local CURRENT_MISSION_NAME = "-"  -- ‡πÑ‡∏ß‡πâ‡πÇ‡∏ä‡∏ß‡πå‡∏ß‡πà‡∏≤‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏ó‡∏≥‡πÄ‡∏Ñ‡∏ß‡∏™‡∏≠‡∏∞‡πÑ‡∏£

-- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Ñ‡∏ß‡∏™‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥
local function setCurrentMission(name)
    CURRENT_MISSION_NAME = name or "-"
    if missionCurrentLabel then
        missionCurrentLabel.Text = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥: " .. tostring(CURRENT_MISSION_NAME)
    end
end

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á GUI ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
local function initMissionGui()
    if missionGui then return end

    local playerGui = Player:WaitForChild("PlayerGui")

    local gui = Instance.new("ScreenGui")
    gui.Name = "NexonMissionHUD"
    gui.ResetOnSpawn = false
    gui.IgnoreGuiInset = true
    gui.Parent = playerGui
    missionGui = gui

    local frame = Instance.new("Frame")
    frame.Name = "MissionFrame"
    frame.AnchorPoint = Vector2.new(0.5, 0.5)
    frame.Size = UDim2.new(0, 460, 0, 260)
    frame.Position = UDim2.new(0.5, 0, 0.5, 0) -- ‡∏Å‡∏•‡∏≤‡∏á‡∏à‡∏≠
    frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    frame.BackgroundTransparency = 0.25
    frame.BorderSizePixel = 0
    frame.Parent = gui

    local stroke = Instance.new("UIStroke")
    stroke.Thickness = 2
    stroke.Color = Color3.fromRGB(255, 255, 255)
    stroke.Transparency = 0.4
    stroke.Parent = frame

    local title = Instance.new("TextLabel")
    title.Name = "WorldLabel"
    title.Size = UDim2.new(1, -20, 0, 40)
    title.Position = UDim2.new(0, 10, 0, 10)
    title.BackgroundTransparency = 1
    title.Font = Enum.Font.GothamBold
    title.TextSize = 26
    title.TextXAlignment = Enum.TextXAlignment.Center
    title.TextColor3 = Color3.fromRGB(255, 255, 255)
    title.Text = "World: -"
    title.Parent = frame
    missionWorldLabel = title

    local current = Instance.new("TextLabel")
    current.Name = "CurrentMissionLabel"
    current.Size = UDim2.new(1, -20, 0, 32)
    current.Position = UDim2.new(0, 10, 0, 55)
    current.BackgroundTransparency = 1
    current.Font = Enum.Font.GothamBold
    current.TextSize = 24
    current.TextXAlignment = Enum.TextXAlignment.Center
    current.TextColor3 = Color3.fromRGB(255, 255, 0)
    current.Text = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥: -"
    current.Parent = frame
    missionCurrentLabel = current

    local listFrame = Instance.new("Frame")
    listFrame.Name = "MissionList"
    listFrame.Size = UDim2.new(1, -40, 0, 140)
    listFrame.Position = UDim2.new(0, 20, 0, 100)
    listFrame.BackgroundTransparency = 1
    listFrame.Parent = frame

    local layout = Instance.new("UIListLayout")
    layout.FillDirection = Enum.FillDirection.Vertical
    layout.SortOrder = Enum.SortOrder.LayoutOrder
    layout.Padding = UDim.new(0, 4)
    layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
    layout.Parent = listFrame
end

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏ß‡∏™‡∏ï‡∏≤‡∏°‡πÇ‡∏•‡∏Å‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
local function setupMissionGuiForCurrentWorld()
    initMissionGui()

    local placeId = game.PlaceId
    local config = WORLD_MISSION_REQUIREMENTS[placeId]
    missionConfigForGui = config

    -- ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå label ‡πÄ‡∏Å‡πà‡∏≤
    missionLabels = {}
    if missionGui and missionGui:FindFirstChild("MissionFrame") then
        local listFrame = missionGui.MissionFrame:FindFirstChild("MissionList")
        if listFrame then
            for _, child in ipairs(listFrame:GetChildren()) do
                if child:IsA("TextLabel") then
                    child:Destroy()
                end
            end
        end
    end

    if not config then
        if missionWorldLabel then
            missionWorldLabel.Text = "World: Unknown (" .. tostring(placeId) .. ")"
        end
        return
    end

    if missionWorldLabel then
        missionWorldLabel.Text = "World: " .. tostring(config.WorldName)
    end

    local listFrame = missionGui.MissionFrame.MissionList

    for missionName, required in pairs(config.Missions) do
        local label = Instance.new("TextLabel")
        label.Name = "Mission_" .. missionName
        label.Size = UDim2.new(1, 0, 0, 24)
        label.BackgroundTransparency = 1
        label.Font = Enum.Font.Gotham
        label.TextSize = 20
        label.TextXAlignment = Enum.TextXAlignment.Center
        label.TextColor3 = Color3.fromRGB(230, 230, 230)
        label.Text = string.format("%s : 0 / %d", missionName, required)
        label.Parent = listFrame

        missionLabels[missionName] = label
    end

    -- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° current mission ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
    setCurrentMission(CURRENT_MISSION_NAME)
end

-- ‡∏ß‡∏ô loop ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ñ‡πà‡∏≤ Progress ‡∏•‡∏á GUI
task.spawn(function()
    while true do
        task.wait(1)

        if missionConfigForGui and missionLabels then
            pcall(function()
                for missionName, required in pairs(missionConfigForGui.Missions) do
                    local label = missionLabels[missionName]
                    if label then
                        local current = getMissionValue(missionName)
                        label.Text = string.format("%s : %d / %d", missionName, current, required)
                    end
                end
            end)
        end
    end
end)

-- üîî ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ï‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏° (‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì currentWorldName ‡πÅ‡∏•‡πâ‡∏ß)
setupMissionGuiForCurrentWorld()
setCurrentMission("Idle")



-- üåº ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô Lobby ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
local function isLobbyEggDone()   return isMissionDone("EggQuest", 1) end
local function isRingDone()       return isMissionDone("RidingRing", 10) end

-- üåã ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡πÇ‡∏•‡∏Å‡∏≠‡∏∑‡πà‡∏ô (Grassland / Jungle / Volcano ‡∏Ø‡∏•‡∏Ø)
local function isEggDone()        return isMissionDone("EggQuest", 5) end
local function isKillDone()       return isMissionDone("KillMobs", 15) end
local function isHarvestDone()    return isMissionDone("Harvest", 50) end
local function isTreasureDone()   return isMissionDone("TreasureChest", 3) end
local function isKillBossDone()   return isMissionDone("KillBoss", 1) end
local function isSpendTimeDone()  return isMissionDone("SpendTime", 450) end




    local function getNextWorldId(currentWorld)
        for i = 1, #WORLD_ORDER do
            if WORLD_ORDER[i] == currentWorld then
                local nextIndex = i + 1
                if nextIndex <= #WORLD_ORDER then
                    local nextWorldName = WORLD_ORDER[nextIndex]
                    return WORLD_IDS[nextWorldName]
                end
            end
        end
        return nil
    end

    local function teleportToNextWorldAuto()
        local currentId = game.PlaceId
        local currentWorldName = getWorldNameById(currentId)
        if not currentWorldName then
            warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏•‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ID:", currentId)
            return
        end

        local nextId = getNextWorldId(currentWorldName)
        if not nextId then
            print("üéâ ‡∏ñ‡∏∂‡∏á‡πÇ‡∏•‡∏Å‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÇ‡∏•‡∏Å‡∏ñ‡∏±‡∏î‡πÑ‡∏õ")
            return
        end

        print("üåç ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ß‡∏≤‡∏£‡πå‡∏õ:", currentWorldName, "‚Üí ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÇ‡∏•‡∏Å‡∏ñ‡∏±‡∏î‡πÑ‡∏õ:", nextId)

        local remotes = ReplicatedStorage:WaitForChild("Remotes")
        local ok, result = pcall(function()
            return remotes:WaitForChild("WorldTeleportRemote"):InvokeServer(nextId, {})
        end)

        if ok then
            print("üöÄ ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÇ‡∏•‡∏Å‡πÉ‡∏´‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‚Üí", nextId)
        else
            warn("‚ùå ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î:", result)
        end
    end


    -----------
    ---
    ---
    ----------------------------------------------------
    -- ü•ö PART 1 : GRASSLAND EGG QUEST (5/5)
    ------------------------------------------------------------
    local function tpToGrassEgg()
        if isEggDone() then return end

        print("ü•ö ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÑ‡∏Ç‡πà...")

        local folder =
            Workspace:FindFirstChild("Interactions")
            and Workspace.Interactions.Nodes
            and Workspace.Interactions.Nodes:FindFirstChild("Eggs")
            and Workspace.Interactions.Nodes.Eggs:FindFirstChild("ActiveNodes")

        if not folder then return end

        for _, node in ipairs(folder:GetChildren()) do
            if isEggDone() then break end

            local egg = node:FindFirstChild("EggModel")
            if egg and egg:FindFirstChild("Harvested") and not egg.Harvested.Value then
                local tp = egg.PrimaryPart or egg:FindFirstChildWhichIsA("BasePart")
                if tp then
                    HRP.CFrame = tp.CFrame + Vector3.new(0,4,0)
                    egg.Harvested.Value = true
                    task.wait(5)
                end
            end
        end
    end

 local function startEggQuest()
    if isEggDone() then
        print("ü•ö ‡∏Ç‡πâ‡∏≤‡∏°: ‡πÄ‡∏Ñ‡∏ß‡∏™‡πÑ‡∏Ç‡πà‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!")
        return
    end

    print("üî• ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Ñ‡∏ß‡∏™‡πÑ‡∏Ç‡πà (0/5)")
    
    -- ‚≠ê ‡πÄ‡∏õ‡∏¥‡∏î‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ß‡πà‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥ Egg Quest
    isEggQuestActive = true
    lastEggProgressUpdate = tick()
    lastEggProgressValue = getMissionValue("EggQuest")

    while not isEggDone() do
        tpToGrassEgg()
        task.wait(1)
    end

    -- ‚≠ê ‡∏õ‡∏¥‡∏î‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏™‡∏£‡πá‡∏à
    isEggQuestActive = false
    print("üéâ ‡πÄ‡∏Ñ‡∏ß‡∏™‡πÑ‡∏Ç‡πà‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå! (5/5)")
end


----------------------------------------------------------------
-- üå™Ô∏è AUTO RIDING RING (‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏Å‡πâ‡πÄ‡∏ï‡πá‡∏° 2025 / ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á)
----------------------------------------------------------------

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local VIM = game:GetService("VirtualInputManager")

--=========
-- üéØ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤
--=========
local TARGET_PROGRESS = 10  -- ‡∏ï‡πâ‡∏≠‡∏á‡∏ú‡πà‡∏≤‡∏ô 10 ‡∏´‡πà‡∏ß‡∏á
local ROOT_WORLD = "Lobby" -- ‡∏û‡∏≤‡∏ò Lobby ‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ô Data

local function getRidingProgress()
    local ok, value = pcall(function()
        return LocalPlayer.Data.WorldMissions["Lobby"].Missions.RidingRing.Progress.Value
    end)
    return ok and value or 0
end

local function isRingDone()
    return getRidingProgress() >= 10
end

local function isRidingMissionCompleted()
    return getRidingProgress() >= TARGET_PROGRESS
end
--=====================================
-- üêâ ‡∏´‡∏≤ HRP ‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ç‡∏µ‡πà‡∏°‡∏±‡∏á‡∏Å‡∏£)
--=====================================
local function getPlayerRoot()
    local char = LocalPlayer.Character
    if not char then return nil end

    local dragons = char:FindFirstChild("Dragons")
    if dragons then
        for _, d in ipairs(dragons:GetChildren()) do
            if d:IsA("Model") and d:FindFirstChild("HumanoidRootPart") then
                return d.HumanoidRootPart
            end
        end
    end

    return char:FindFirstChild("HumanoidRootPart")
end

--=============================
-- üìå Folder ‡∏Ç‡∏≠‡∏á‡∏´‡πà‡∏ß‡∏á‡πÅ‡∏ö‡∏ö‡∏™‡∏î
--=============================
local function getFlyingFolder()
    local root = workspace:FindFirstChild("Interactions")
    if not root then return nil end
    root = root:FindFirstChild("RidingRings")
    if not root then return nil end
    return root:FindFirstChild("Flying")
end

--============================================
-- üîç ‡∏´‡∏≤ ‚Äú‡∏´‡πà‡∏ß‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏™‡∏∏‡∏î / ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ô‡πâ‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‚Äù
--============================================
local function getDynamicRing()
    local folder = getFlyingFolder()
    if not folder then return nil end

    local best = nil
    local bestIndex = math.huge

    for _, item in ipairs(folder:GetChildren()) do
        local part = nil

        if item:IsA("BasePart") then
            part = item
        elseif item:IsA("Model") then
            part = item:FindFirstChildWhichIsA("BasePart")
        end

        if part then
            local num = tonumber(part.Name) or tonumber(item.Name) or 999999
            if num < bestIndex then
                bestIndex = num
                best = part
            end
        end
    end

    return best
end

--===================================
-- ‚úàÔ∏è ‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏¥‡∏ô‡∏•‡∏≠‡∏î‡∏´‡πà‡∏ß‡∏á (‡∏Å‡∏±‡∏ô‡∏Ñ‡πâ‡∏≤‡∏á 100%)
--===================================
local function flyToRing(hrp, ringPart, speed, maxTime)
    if not hrp or not ringPart then return end
    speed = speed or 8
    maxTime = maxTime or 6

    local startTime = tick()
    local lastDist = math.huge

    while true do
        if not hrp.Parent then return end
        if not ringPart.Parent then return end
        if isRidingMissionCompleted() then return end

        local target = ringPart.Position + Vector3.new(0, 3, 0)
        local pos = hrp.Position
        local dist = (target - pos).Magnitude

        if dist <= 2 then
            return
        end

        -- ‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤ ‚Üí ‡∏Å‡∏±‡∏ô‡∏Ñ‡πâ‡∏≤‡∏á
        if tick() - startTime > maxTime then
            warn("‚è±Ô∏è flyToRing timeout")
            return
        end

        -- ‡∏Å‡∏±‡∏ô‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô (‡∏´‡πà‡∏ß‡∏á‡∏•‡∏≠‡∏¢‡∏´‡∏ô‡∏µ)
        if dist > lastDist + 1 then
            return
        end
        lastDist = dist

        hrp.CFrame = CFrame.new(pos, target)
        hrp.CFrame = hrp.CFrame + (target - pos).Unit * speed * 0.5

        task.wait(0.03)
    end
end

--=====================
-- ‚≠ê Noclip
--=====================
local noclipEnabled = false
local noclipConnection = nil

local function enableNoclip()
    if noclipEnabled then return end
    noclipEnabled = true

    noclipConnection = RunService.Heartbeat:Connect(function()
        if not noclipEnabled then return end
        local char = LocalPlayer.Character
        if char then
            for _, part in ipairs(char:GetDescendants()) do
                if part:IsA("BasePart") then
                    part.CanCollide = false
                end
            end
        end
    end)

    print("üü£ Noclip ‚Üí ON")
end

local function disableNoclip()
    if not noclipEnabled then return end
    noclipEnabled = false

    if noclipConnection then
        noclipConnection:Disconnect()
        noclipConnection = nil
    end

    local char = LocalPlayer.Character
    if char then
        for _, p in ipairs(char:GetDescendants()) do
            if p:IsA("BasePart") then
                p.CanCollide = true
            end
        end
    end

    print("‚ö™ Noclip ‚Üí OFF")
end

--==============================
-- üî• Anti-stuck ‡∏Å‡∏î D ‡∏Å‡∏±‡∏ô‡∏´‡∏°‡∏∏‡∏ô‡∏Ñ‡πâ‡∏≤‡∏á
--==============================
local function antiStuck()
    task.spawn(function()
        while not isRidingMissionCompleted() do
            task.wait(math.random(1, 10))
            VIM:SendKeyEvent(true, Enum.KeyCode.D, false, game)
            task.wait(0.1)
            VIM:SendKeyEvent(false, Enum.KeyCode.D, false, game)
        end
    end)
end

--=====================================
-- üåé ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡πÇ‡∏•‡∏Å‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
--=====================================
local function tpNextWorld()
    task.wait(1)
    if teleportToNextNeededWorld then
        teleportToNextNeededWorld()
    end
end

--========================================================
-- üöÄ START: ‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏¥‡∏ô‡∏•‡∏≠‡∏î‡∏´‡πà‡∏ß‡∏á AUTO ‡πÅ‡∏ö‡∏ö‡∏£‡∏ß‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå
--========================================================
function startRidingRingFly()
    print("üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏° RidingRing AUTO")

    enableNoclip()
    antiStuck()

    while not isRidingMissionCompleted() do
        local hrp = getPlayerRoot()
        if not hrp then
            warn("‚ö†Ô∏è HRP ‡πÑ‡∏°‡πà‡∏û‡∏ö")
            task.wait(0.5)
            continue
        end

        local ring = getDynamicRing()
        if not ring then
            warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏´‡πà‡∏ß‡∏á")
            task.wait(0.5)
            continue
        end

        print(("‚û°Ô∏è Ring: %s | Progress %d/%d")
            :format(ring.Name, getRidingProgress(), TARGET_PROGRESS))

        flyToRing(hrp, ring, 8, 6)
        task.wait(0.1)
    end

    print("üéâ RidingRing ‚úî ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:", getRidingProgress())
    disableNoclip()
    tpNextWorld()
end



-- ===============================================
-- üîç GLOBAL MOB SCANNER (‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ó‡∏∏‡∏Å 1 ‡∏ß‡∏¥)
-- ===============================================
local lastDetectedMob = nil

task.spawn(function()
    while true do
        task.wait(1)

        local mob = lastDetectedMob or ultraFindMob()

        if mob then
            lastDetectedMob = mob
            -- print("üì° ‡∏™‡πÅ‡∏Å‡∏ô‡πÄ‡∏à‡∏≠‡∏°‡∏≠‡∏ô:", mob.Name)
        else
            lastDetectedMob = nil
        end
    end
end)




local SEARCH_POINTS = {
    Vector3.new(1335, 193, -254),
    Vector3.new(134, 73, -139),
    Vector3.new(-722, 9, 247),
    Vector3.new(444, 261, 615),
    Vector3.new(-28, 368, -181),
    Vector3.new(-1719, 109, -1102),
    Vector3.new(1763, 363, -22),
    Vector3.new(2148, 588, 1272)
}


local currentSearchIndex = 1

local function teleportNextSearchPoint()
    if not HRP then return end

    local pos = SEARCH_POINTS[currentSearchIndex]
    if pos then
        HRP.CFrame = CFrame.new(pos + Vector3.new(0, 5, 0))
        print("üîç ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏°‡∏≠‡∏ô ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏à‡∏∏‡∏î‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ #" .. currentSearchIndex)
    end

    currentSearchIndex += 1
    if currentSearchIndex > #SEARCH_POINTS then
        currentSearchIndex = 1
    end
end


local function detectGrasslandMobs()
    local folder = Workspace:FindFirstChild("MobFolder")
    if not folder then return {} end

    local detected = {}
    for _, mobGroup in ipairs(folder:GetChildren()) do
        for _, obj in ipairs(mobGroup:GetChildren()) do
            if (obj:IsA("Model") or obj:IsA("BasePart")) and obj:FindFirstChild("Health") then
                table.insert(detected, obj.Name)
            end
        end
    end
    return detected
end

local TARGET_MOBS = detectGrasslandMobs()
if #TARGET_MOBS == 0 then
    warn("‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ Mob")
    return
end

local function GetDragon()
    local dragons = Character:FindFirstChild("Dragons")
    if not dragons then return nil end

    for _, d in ipairs(dragons:GetChildren()) do
        if d:IsA("Model") and d:FindFirstChild("Remotes") then
            return d
        end
    end
end

local function teleportTo(pos)
    Character:PivotTo(CFrame.new(pos + Vector3.new(0,3,0)))
end

local function performBreath()
    local dragon = GetDragon()
    if not dragon then return end
    local fire = dragon.Remotes:FindFirstChild("BreathFireRemote")
    if fire then
        for _ = 1, 3 do
            fire:FireServer(true)
        end
    end
    VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.F, false, game)
    task.wait(0.05)
    VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.F, false, game)
end

local function getMobPosition(m)
    if m:IsA("Model") then
        if m.PrimaryPart then return m.PrimaryPart.Position end
        local p = m:FindFirstChildWhichIsA("BasePart", true)
        if p then return p.Position end
    else
        return m.Position
    end
end

local function findMob()
    local folder = Workspace:FindFirstChild("MobFolder")
    if not folder then return nil end

    for _, mobGroup in ipairs(folder:GetChildren()) do
        for _, name in ipairs(TARGET_MOBS) do
            local mob = mobGroup:FindFirstChild(name)
            if mob and mob:FindFirstChild("Health") and mob.Health.Value > 0 then
                return mob
            end
        end
    end
    return nil
end

local function attackMob(mob)
    local dragon = GetDragon()
    if not dragon then return end
    local remote = dragon.Remotes:FindFirstChild("PlaySoundRemote")
    if not remote then return end

    task.spawn(function()
        while mob:FindFirstChild("Health") and mob.Health.Value > 0 do
            remote:FireServer("Breath","Mobs",mob)
            RunService.Heartbeat:Wait()
        end
    end)
end



local currentSearchIndex = 1

local function teleportNextSearchPoint()
    if not HRP then return end

    local pos = SEARCH_POINTS[currentSearchIndex]
    if pos then
        HRP.CFrame = CFrame.new(pos + Vector3.new(0, 5, 0))
        print("üîç ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏°‡∏≠‡∏ô ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏à‡∏∏‡∏î‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ #" .. currentSearchIndex, pos)
    end

    currentSearchIndex += 1
    if currentSearchIndex > #SEARCH_POINTS then
        currentSearchIndex = 1
    end
end


------------------------------------------------------------
-- ‚öîÔ∏è ADVANCED MOB FINDER (‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á)
------------------------------------------------------------
local function ultraFindMob()
    local mobs = {}

    -- ‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á 1 : MobFolder ‡∏ó‡∏±‡πà‡∏ß‡πÄ‡∏Å‡∏°
    local folder = Workspace:FindFirstChild("MobFolder")
    if folder then
        for _, mobGroup in ipairs(folder:GetChildren()) do
            for _, mobName in ipairs(TARGET_MOBS) do
                local mob = mobGroup:FindFirstChild(mobName)
                if mob and mob:FindFirstChild("Health") and mob.Health.Value > 0 then
                    table.insert(mobs, mob)
                end
            end
        end
    end

    -- ‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á 2 : ActiveMobs (‡∏ö‡∏≤‡∏á‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå spawn ‡∏ï‡∏≤‡∏° Global)
    local activePath =
        Workspace:FindFirstChild("Interactions")
        and Workspace.Interactions:FindFirstChild("Nodes")
        and Workspace.Interactions.Nodes:FindFirstChild("Mobs")
        and Workspace.Interactions.Nodes.Mobs:FindFirstChild("ActiveMobs")
        and Workspace.Interactions.Nodes.Mobs.ActiveMobs:FindFirstChild("Global")

    if activePath then
        for _, obj in ipairs(activePath:GetChildren()) do
            if obj:FindFirstChild("Health") and obj.Health.Value > 0 then
                table.insert(mobs, obj)
            end
        end
    end

    if #mobs == 0 then return nil end

    -- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏™‡∏∏‡∏î
    table.sort(mobs, function(a,b)
        local pa = getMobPosition(a)
        local pb = getMobPosition(b)
        if not pa or not pb then return false end
        return (pa - HRP.Position).Magnitude < (pb - HRP.Position).Magnitude
    end)

    return mobs[1]
end
local function startKillQuest()
    if isKillDone() then
        print("‚öîÔ∏è ‡∏Ç‡πâ‡∏≤‡∏°: ‡πÄ‡∏Ñ‡∏ß‡∏™‡∏Ü‡πà‡∏≤‡∏°‡∏≠‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!")
        return
    end

    print("‚öîÔ∏è ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ü‡πà‡∏≤‡∏°‡∏≠‡∏ô (0/15)")

    while not isKillDone() do

        -- ‚≠ê ‡∏´‡∏≤‡πÅ‡∏ö‡∏ö Ultra ‡∏Å‡πà‡∏≠‡∏ô
        local mob = ultraFindMob()

        if mob then
            -- ‚ùå ‡πÄ‡∏à‡∏≠‡∏°‡∏≠‡∏ô ‚Üí ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏õ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
            print("üü¢ ‡πÄ‡∏à‡∏≠‡∏°‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡∏´‡∏¢‡∏∏‡∏î‡∏ß‡∏≤‡∏õ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤")

            -- ‡∏ï‡∏µ‡∏°‡∏≠‡∏ô‡∏ï‡∏≤‡∏°‡∏õ‡∏Å‡∏ï‡∏¥
            teleportTo(getMobPosition(mob))
            attackMob(mob)
            performBreath()

            while mob and mob:FindFirstChild("Health") and mob.Health.Value > 0 do
                task.wait(0.05)
            end

            print("üíÄ Progress:", getKillProgress() .. "/15")

        else
            -- ‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏°‡∏≠‡∏ô ‚Üí ‡∏ß‡∏≤‡∏õ‡∏à‡∏∏‡∏î‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
            print("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏°‡∏≠‡∏ô ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏à‡∏∏‡∏î‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ (‡∏ó‡∏∏‡∏Å 3 ‡∏ß‡∏¥)")
            teleportNextSearchPoint()
            task.wait(3)  -- ‚≠ê ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏î‡∏µ‡πÄ‡∏•‡∏¢‡πå 3 ‡∏ß‡∏¥
        end

        task.wait(0.1)
    end

    print("üéâ ‡∏Ü‡πà‡∏≤‡∏°‡∏≠‡∏ô‡∏Ñ‡∏£‡∏ö 15/15")
end


------------------------------------------------------
    -- üçì ‡∏î‡∏π‡∏î‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏£‡∏≠‡∏ö‡∏ï‡∏±‡∏ß (‡πÅ‡∏Å‡πâ‡πÉ‡∏´‡∏°‡πà ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô 100%)
    ------------------------------------------------------------
    local function collectFoodItems()
        local cam = workspace:FindFirstChild("Camera")
        if not cam then return end
        if not HRP then return end

        local foodNames = {
            "AppleFoodModel","LemonFoodModel","CornFoodModel","CarrotFoodModel","PearFoodModel",
            "StrawberryFoodModel","PeachFoodModel","PotatoFoodModel","BroccoliFoodModel","CherryFoodModel",
            "BuleberryFoodModel","MushroomFoodModel","BananaFoodModel","AlmondFoodModel","OnionFoodModel",
            "KelpFoodModel","GrapesFoodModel","WatermelonFoodModel","PricklyPearFoodModel","ChiliFoodModel",
            "GlowingMushroomFoodModel","PineappleFoodModel","CottonCandyFoodModel","JuniperBerryFoodModel",
            "LimeFoodModel","DragonfruitFoodModel","AvacadoFoodModel","CacaoBeanFoodModel",
            "CoconutFoodModel","EdamameFoodModel","KajiFruitFoodModel","MistSudachiFoodModel",
            "PumpkinFoodModel"
        }

        for _, item in ipairs(cam:GetChildren()) do
            if table.find(foodNames, item.Name) then

                -- ‡∏¢‡πâ‡∏≤‡∏¢‡∏ó‡∏∏‡∏Å BasePart ‡∏Ç‡∏≠‡∏á‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏°‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏±‡∏ß‡πÄ‡∏£‡∏≤
                for _, part in ipairs(item:GetDescendants()) do
                    if part:IsA("BasePart") then
                        part.CFrame = HRP.CFrame
                    end
                end
            end
        end
    end


    ------------------------------------------------------------
    -- üê≤ ‡∏´‡∏≤‡∏£‡∏µ‡πÇ‡∏°‡∏ó‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏ï‡∏±‡∏ß‡πÑ‡∏´‡∏ô‡∏Å‡πá‡πÑ‡∏î‡πâ (‡πÑ‡∏°‡πà‡∏•‡πá‡∏≠‡∏Å‡πÄ‡∏•‡∏Ç)
    ------------------------------------------------------------
    local function getAnyDragonRemote()
        local dragons = Player.Character:WaitForChild("Dragons")

        for _, dragon in ipairs(dragons:GetChildren()) do
            if dragon:IsA("Model") and dragon:FindFirstChild("Remotes") then
                local remote = dragon.Remotes:FindFirstChild("PlaySoundRemote")
                if remote then
                    return remote, dragon
                end
            end
        end

        return nil, nil
    end



    local SEARCH_POINTS = {
        Vector3.new(1335, 193, -254),
        Vector3.new(134, 73, -139),
        Vector3.new(-722, 9, 247),
        Vector3.new(444, 261, 615),
        Vector3.new(-28, 368, -181),
         Vector3.new(-1719, 109, -1102),
          Vector3.new(1763, 363, -22),
             Vector3.new(2148, 588, 1272),


    }

    local function teleportRandomSearchPoint()
        if not HRP then return end
        local pos = SEARCH_POINTS[math.random(1, #SEARCH_POINTS)]
        HRP.CFrame = CFrame.new(pos + Vector3.new(0, 5, 0))
        print("üîç ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏ó‡∏µ‡πà:", pos)
    end

local function findAnyFoodNode()
    local folder = Workspace:FindFirstChild("Interactions")
        and Workspace.Interactions:FindFirstChild("Nodes")
        and Workspace.Interactions.Nodes:FindFirstChild("Food")

    if not folder then return nil end

    for _, node in ipairs(folder:GetChildren()) do
        local b = node:FindFirstChild("BillboardPart")
        local hp = b and b:FindFirstChild("Health")

        if b and hp and hp.Value > 0 then
            return node, b, hp
        end
    end

    return nil
end 


------------------------------------------------------------
-- üå≤ ‡∏ï‡∏µ‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ + ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ó‡∏∏‡∏Å 1 ‡∏ß‡∏¥
------------------------------------------------------------
local function attackFoodNodes()
    if isHarvestDone() then
        print("üå≥ ‡∏Ç‡πâ‡∏≤‡∏°: Harvest ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!")
        return
    end

    print("üå≥ ‡πÄ‡∏£‡∏¥‡πà‡∏° Harvest (0/50)")

    task.spawn(function()
        while not isHarvestDone() do

            ------------------------------------------------
            -- üîç ‡∏´‡∏≤‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡πÅ‡∏ö‡∏ö‡∏™‡∏î‡∏ó‡∏∏‡∏Å 1 ‡∏ß‡∏¥
            ------------------------------------------------
            local node, b, hp = findAnyFoodNode()

            if node and b and hp then
                print("üå≤ ‡πÄ‡∏à‡∏≠‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ:", node.Name)

                -- ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏Ç‡∏∂‡πâ‡∏ô‡∏ö‡∏ô‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ
                HRP.CFrame = b.CFrame + Vector3.new(0, 6, 0)
                task.wait(0.2)

                ------------------------------------------------
                -- ü™ì ‡∏ï‡∏µ‡∏à‡∏ô‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ hp = 0
                ------------------------------------------------
                while hp.Value > 0 and not isHarvestDone() do
                    local remote = getAnyDragonRemote()
                    if remote then
                        local r, d = getAnyDragonRemote()
                        if r then
                            r:FireServer("Breath", "Destructibles", b)
                        end
                    end

                    collectFoodItems()
                    task.wait(0.2)
                end

                print("üå≤ Harvest:", getHarvestProgress(), "/50")

                task.wait(1)
            else
                ------------------------------------------------
                -- ‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡πÄ‡∏•‡∏¢ ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏à‡∏∏‡∏î‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÉ‡∏´‡∏°‡πà
                ------------------------------------------------
                print("‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏´‡∏≤‡∏ï‡πà‡∏≠...")
                teleportRandomSearchPoint()
                task.wait(1)
            end

            task.wait(1)  -- üîÅ ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ó‡∏∏‡∏Å 1 ‡∏ß‡∏¥
        end

        print("üéâ Harvest ‡∏Ñ‡∏£‡∏ö 50 ‡πÅ‡∏•‡πâ‡∏ß!")
    end)
end




------------------------------------------------------------
-- üíé 1) ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥
------------------------------------------------------------
local itemNames = {
    "SilverChest",
    "BronzeChest",
    "GoldChest",
    "SpookyChest",
    "AspookyChest"
}

------------------------------------------------------------
-- ‚úàÔ∏è 2) ‡∏à‡∏∏‡∏î‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ß‡∏ô‡∏´‡∏≤ (‡πÅ‡∏Å‡πâ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)
------------------------------------------------------------
local teleportPoints = {
    Vector3.new(1335, 193, -254),
    Vector3.new(134, 73, -139),
    Vector3.new(-722, 9, 247),
    Vector3.new(444, 261, 615),
    Vector3.new(-28, 368, -181),
    Vector3.new(-1719, 109, -1102),
    Vector3.new(1763, 363, -22),
    Vector3.new(2148, 588, 1272),
}

local scanning = false
local currentIndex = 1

------------------------------------------------------------
-- üîç 4) ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏™‡∏î (‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà Dead)
------------------------------------------------------------
function findItemsByName(names)
    names = names or itemNames

    if type(names) ~= "table" then
        warn("‚ùå itemNames ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà table")
        return {}
    end

    local foundItems = {}
    local treasureRoot = workspace:FindFirstChild("Interactions")
        and workspace.Interactions:FindFirstChild("Nodes")
        and workspace.Interactions.Nodes:FindFirstChild("Treasure")

    if not treasureRoot then
        return foundItems
    end

    -- ‡πÑ‡∏•‡πà‡πÄ‡∏ä‡πá‡∏Ñ node 1‚Äì100 ‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
    for i = 1, 100 do
        local node = treasureRoot:FindFirstChild(tostring(i))
        if node then
            for _, name in ipairs(names) do
                local chest = node:FindFirstChild(name)
                if chest and chest:FindFirstChild("HumanoidRootPart") then
                    local hrp = chest.HumanoidRootPart
                    local dead = hrp:FindFirstChild("Dead")
                    if dead and not dead.Value then
                        table.insert(foundItems, hrp)
                    end
                end
            end
        end
    end

    return foundItems
end

------------------------------------------------------------
-- ‚úàÔ∏è 3) ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ß‡∏ô‡∏´‡∏≤ ACTIVE CHEST (‡πÄ‡∏ä‡πá‡∏Ñ‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡∏≤‡∏£‡πå‡∏õ + ‡∏´‡∏•‡∏±‡∏á‡∏ß‡∏≤‡∏£‡πå‡∏õ)
------------------------------------------------------------
function startOrbitScan()
    if scanning then return end
    scanning = true
    print("üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ï‡∏≤‡∏°‡∏à‡∏∏‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Å‡∏•‡πà‡∏≠‡∏á...")

    task.spawn(function()
        while scanning and not isTreasureDone() do
            ------------------------------------------------
            -- 1) ‡πÄ‡∏ä‡πá‡∏Ñ‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏≠‡∏µ‡∏Å‡∏£‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏à‡∏∞‡∏ß‡∏≤‡∏£‡πå‡∏õ
            ------------------------------------------------
            local preItems = findItemsByName(itemNames)
            if #preItems > 0 then
                print("üì¶ ‡πÄ‡∏à‡∏≠‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡πÅ‡∏Å‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡∏≤‡∏£‡πå‡∏õ ‚Üí ‡∏´‡∏¢‡∏∏‡∏î‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ß‡∏ô")
                scanning = false
                return
            end

            ------------------------------------------------
            -- 2) ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏à‡∏∏‡∏î‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
            ------------------------------------------------
            local char = Player.Character or Player.CharacterAdded:Wait()
            local hrp = char:WaitForChild("HumanoidRootPart")

            local targetPos = teleportPoints[currentIndex]
            if targetPos then
                hrp.CFrame = CFrame.new(targetPos + Vector3.new(0, 5, 0))
                print("üìç ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà:", currentIndex, targetPos)
            end

            currentIndex += 1
            if currentIndex > #teleportPoints then
                currentIndex = 1
            end

            ------------------------------------------------
            -- 3) ‡∏´‡∏•‡∏±‡∏á‡∏ß‡∏≤‡∏£‡πå‡∏õ ‡∏£‡∏≠ 2 ‡∏ß‡∏¥ ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏ä‡πá‡∏Ñ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏£‡∏≠‡∏ö
            ------------------------------------------------
            task.wait(2)

            local postItems = findItemsByName(itemNames)
            if #postItems > 0 then
                print("üì¶ ‡∏û‡∏ö‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏á‡∏ß‡∏≤‡∏£‡πå‡∏õ ‚Üí ‡∏´‡∏¢‡∏∏‡∏î‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á ‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏•‡∏±‡∏Å‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠")
                scanning = false
                return
            end
        end
    end)
end

function stopOrbitScan()
    if not scanning then return end
    scanning = false
    print("üõë ‡∏´‡∏¢‡∏∏‡∏î‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏•‡πâ‡∏ß")
end

------------------------------------------------------------
-- üß≠ 5) ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏Å‡∏•‡πà‡∏≠‡∏á
------------------------------------------------------------
function teleportToItem(item)
    local char = Player.Character
    if char and char.PrimaryPart and item then
        char:SetPrimaryPartCFrame(item.CFrame * CFrame.new(0, 5, 0))
        print("üì¶ ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏Å‡∏•‡πà‡∏≠‡∏á:", item.Parent.Name)
    end
end

------------------------------------------------------------
-- ‚öôÔ∏è 6) ‡∏ï‡∏±‡πâ‡∏á Dead = true
------------------------------------------------------------
function setItemDead(item)
    if not item or not item.Parent then return end

    local dead = item.Parent.HumanoidRootPart:FindFirstChild("Dead")
    if dead then
        dead.Value = true
        print("‚ò†Ô∏è ‡∏ï‡∏±‡πâ‡∏á Dead ‡πÉ‡∏´‡πâ‡∏Å‡∏•‡πà‡∏≠‡∏á:", item.Parent.Name)
        wait(12)
    end
end

local function teleportToNextWorld()
    wait(5)
    teleportToNextWorldAuto()
end

------------------------------------------------------------
-- üíé 7) AUTO TREASURE (‡∏ü‡∏≤‡∏£‡πå‡∏°‡∏à‡∏ô Progress = 3)
------------------------------------------------------------
function startAutoTeleportTreasure()
    autoTeleportTreasure = true
    print("üíé ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Ñ‡∏ß‡∏™ Treasure Chest (0/3)...")

    local lastCheck = os.clock()

    task.spawn(function()
        while autoTeleportTreasure and not isTreasureDone() do
            if os.clock() - lastCheck >= 1 then
                lastCheck = os.clock()

                -- ‚úÖ ‡πÄ‡∏ä‡πá‡∏Ñ‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ó‡∏∏‡∏Å ‡πÜ ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡πÉ‡∏ô loop ‡∏´‡∏•‡∏±‡∏Å
                local items = findItemsByName(itemNames)

                if #items > 0 then
                    -- ‡∏ñ‡πâ‡∏≤‡πÄ‡∏à‡∏≠ ‚Üí ‡∏´‡∏¢‡∏∏‡∏î‡∏™‡πÅ‡∏Å‡∏ô‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á ‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡πÄ‡∏Å‡πá‡∏ö
                    stopOrbitScan()

                    local target = items[1]
                    local dead = target:FindFirstChild("Dead")

                    if dead and not dead.Value then
                        teleportToItem(target)
                        setItemDead(target)
                        print("üíé ‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°! ‡πÄ‡∏Ñ‡∏ß‡∏™:", getTreasureProgress(), "/3")
                        task.wait(3)
                    end

                else
                    -- ‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠‡πÄ‡∏•‡∏¢‡πÉ‡∏ô‡πÇ‡∏•‡∏Å‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ ‚Üí ‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ß‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
                    if not scanning then
                        print("üîé ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Å‡∏•‡πà‡∏≠‡∏á ‚Üí ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏´‡∏≤...")
                        startOrbitScan()
                    end
                end
            end

            RunService.Heartbeat:Wait()
        end

        if isTreasureDone() then
            autoTeleportTreasure = false
            stopOrbitScan()
            print("üéâ ‡πÄ‡∏Ñ‡∏ß‡∏™ Treasure Chest ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß! (3/3)")
        end
    end)
end

function stopAutoTeleportTreasure()
    autoTeleportTreasure = false
    stopOrbitScan()
end
function hopToPreviousWorld()
    local placeId = game.PlaceId
    print("üîÅ Hop server (Teleport to same world):", placeId)

    pcall(function()
        game:GetService("TeleportService"):Teleport(placeId)
    end)
end
task.spawn(function()
    local lastTreasureCheck = tick()
    local lastTreasureProgress = getTreasureProgress()  -- Progress ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô

    while true do
        task.wait(5)

        -- ‡∏ñ‡πâ‡∏≤‡πÄ‡∏Ñ‡∏ß‡∏™‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß: reset timer ‡πÅ‡∏•‡∏∞‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≠
        if isTreasureDone() then
            lastTreasureCheck = tick()
            lastTreasureProgress = getTreasureProgress()
            continue
        end

        -- Progress ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
        local current = getTreasureProgress()

        -- ‡∏ñ‡πâ‡∏≤ progress ‡πÄ‡∏û‡∏¥‡πà‡∏° = ‡πÄ‡∏Ñ‡∏ß‡∏™‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤
        if current > lastTreasureProgress then
            print("üíé Treasure progress ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï:", current)
            lastTreasureProgress = current
            lastTreasureCheck = tick()

        else
            -- ‚ùå ‡∏ñ‡πâ‡∏≤ 120 ‡∏ß‡∏¥‡πÑ‡∏°‡πà‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤ = Hop
            if tick() - lastTreasureCheck >= 120 then
                print("‚õî [TREASURE ANTI-STUCK] 2 ‡∏ô‡∏≤‡∏ó‡∏µ‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÄ‡∏•‡∏¢ ‚Üí Hop Server")

                hopToPreviousWorld()

                task.wait(8)

                -- reset ‡∏ï‡∏±‡∏ß‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤
                lastTreasureCheck = tick()
                lastTreasureProgress = getTreasureProgress()
            end
        end
    end
end)










    local Player = Players.LocalPlayer

    -- ‚öôÔ∏è SETTINGS
    local ATTACKS_PER_CYCLE = 50
    local MAX_FARM_RANGE = 350
    local WORLD_TARGETS = {
        [3475397644] = {"Boar", "BoarElite", "Falcon", "Owl", "OwlSnow"},
        [3475419198] = {"BoarElite", "Falcon", "Owl", "OwlSnow","Boar"},
        [3475422608] = {"CaveBat", "Crocodile", "Monkey"},
        [3487210751] = {"Elemental", "Gargoyle", "Salamander"},
        [3623549100] = {"Eagle", "SnowBoar","OwlSnow"},
        [3737848045] = {"Crab", "Lionfish", "Pufferfish"},
        [3752680052] = {"DesertScarab", "Scorpion", "Vulture"},
        [4174118306] = {"Hydra", "Mimic", "MythicalDeer"},
        [4728805070] = {"MantaRay", "Slime"},
        [4869039553] = {"Dimorph", "Ptero", "Stego"},
        [125804922932357] = {"EliteKappa","EliteKitsuneFox","EliteWanyudo","Kappa","KiriFogGhost","KitsuneFox","Wanyudo"}
    }

    -- üî¥ CONTROL FLAG
    local stopAll = false

    -- üö´ SAFE DESTROY OLD REMOTE
    pcall(function()
        local remotes = ReplicatedStorage:FindFirstChild("Remotes")
        if remotes then
            local target = remotes:FindFirstChild("MobDamageRemote")
            if target then target:Destroy() end
        end
    end)

    --========================================================--
    -- üîç ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏Ñ‡∏ß‡∏™ KillBoss (Desert) ‡∏ß‡πà‡∏≤‡πÄ‡∏™‡∏£‡πá‡∏à‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
    --========================================================--


    -- üê≤ GET ANY DRAGON
    local function GetAnyDragon()
        local char = Player.Character or Player.CharacterAdded:Wait()
        local dragons = char:FindFirstChild("Dragons")
        if not dragons then return nil end
        for _, dragon in pairs(dragons:GetChildren()) do
            if dragon:IsA("Model") and dragon:FindFirstChild("Remotes") and dragon.Remotes:FindFirstChild("PlaySoundRemote") then
                return dragon
            end
        end
        return nil
    end

    -- üì¶ TELEPORT (SAFE)
    local function teleportToPosition(pos)
        local char = Player.Character
        if char and char.PrimaryPart then
            local dist = (char.PrimaryPart.Position - pos).Magnitude
            if dist > 5 then
                for _, part in ipairs(char:GetDescendants()) do
                    if part:IsA("BasePart") then part.CanCollide = false end
                end
                char:PivotTo(CFrame.new(pos))
                task.wait(math.clamp(dist / 150, 0.1, 1))
                for _, part in ipairs(char:GetDescendants()) do
                    if part:IsA("BasePart") then part.CanCollide = true end
                end
            end
        end
    end

    -- ü¶¥ ATTACK MOB
    local function hyperAttackMob(mob, dragon)
        local remote = dragon.Remotes:FindFirstChild("PlaySoundRemote")
        if not remote then return end
        task.spawn(function()
            for i = 1, ATTACKS_PER_CYCLE do
                if stopAll then break end
                pcall(function()
                    remote:FireServer("Breath", "Mobs", mob)
                end)
                if mob:FindFirstChild("Health") and mob.Health.Value <= 0 then break end
                RunService.Heartbeat:Wait()
            end
        end)
    end

    -- üîç FIND MOB WITH HEALTH
    local function findMobWithHealth()
        local folder = workspace:FindFirstChild("MobFolder")
        local root = Player.Character and Player.Character:FindFirstChild("HumanoidRootPart")
        if not folder or not root then return nil end

        local currentWorldId = game.PlaceId
        local mobList = WORLD_TARGETS[currentWorldId]

        if not mobList then
            warn("‚ùå ‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏°‡∏≠‡∏ô")
            return nil
        end

        for _, mobGroup in pairs(folder:GetChildren()) do
            for _, mobName in pairs(mobList) do
                local mob = mobGroup:FindFirstChild(mobName)
                if mob and mob:FindFirstChild("Health") and mob.Health.Value > 0 then
                    local pos = mob:IsA("Model") and mob.PrimaryPart and mob.PrimaryPart.Position or (mob:IsA("BasePart") and mob.Position)
                    if pos and (pos - root.Position).Magnitude <= MAX_FARM_RANGE then
                        return mob
                    end
                end
            end
        end
        return nil
    end
local function findNearestBoss()
    local folder = workspace:FindFirstChild("ActiveBossModels")
    local hrp = Player.Character and Player.Character:FindFirstChild("HumanoidRootPart")
    
    if not folder then 
        print("‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ ActiveBossModels")
        return nil 
    end
    
    if not hrp then
        print("‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ HumanoidRootPart")
        return nil
    end

    local myName = Player.Name

    print("‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ")
    print("üîç ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏´‡∏≤‡∏ö‡∏≠‡∏™‡∏Ç‡∏≠‡∏á:", myName)
    print("üì¶ ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ö‡∏≠‡∏™‡πÉ‡∏ô‡∏™‡∏ô‡∏≤‡∏°:", #folder:GetChildren())
    print("‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ")

    local nearest = nil
    local shortestDist = math.huge

    for _, model in ipairs(folder:GetChildren()) do
        print("\nüîé ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Model:", model.Name)
        
        local bossHRP = model:FindFirstChild("HumanoidRootPart")
        
        if not bossHRP then 
            print("   ‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ HumanoidRootPart") 
            continue 
        end

        print("   ‚úÖ ‡∏°‡∏µ HumanoidRootPart")
        
        -- ‚≠ê‚≠ê ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏á‡∏ó‡πâ‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢ "-PlayerName" ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà ‚≠ê‚≠ê
        local suffix = "-" .. myName
        local endsWithMyName = model.Name:sub(-#suffix) == suffix
        


        if endsWithMyName then
            local dist = (bossHRP.Position - hrp.Position).Magnitude
            print("   ‚úÖ‚úÖ ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏ö‡∏≠‡∏™‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤! ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á:", math.floor(dist), "studs")
            
            if dist < shortestDist then
                shortestDist = dist
                nearest = model
                print("      ‚≠ê ‡∏ö‡∏≠‡∏™‡∏ô‡∏µ‡πâ‡πÉ‡∏Å‡∏•‡πâ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÅ‡∏•‡πâ‡∏ß!")
            end
        else
            print("   ‚ùå ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ö‡∏≠‡∏™‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ (‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡πâ‡∏≤‡∏¢‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á)")
        end
    end

    print("\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ")
    if nearest then
        print("üéØ ‡∏™‡∏£‡∏∏‡∏õ: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏≠‡∏™ ‚Üí", nearest.Name)
    else
        print("‚ö†Ô∏è ‡∏™‡∏£‡∏∏‡∏õ: ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ö‡∏≠‡∏™‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÄ‡∏•‡∏¢!")
    end
    print("‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n")

    return nearest
end
-- ‚≠ê ‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏ö‡∏ö‡∏Ñ‡πà‡∏≠‡∏¢ ‡πÜ ‡∏•‡∏≠‡∏¢‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏ó‡∏µ‡∏•‡∏∞‡∏ô‡∏¥‡∏î
local function smoothFlyToPosition(targetPos, speed)
    speed = speed or 40 -- ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏≠‡∏¢ ‡∏¢‡∏¥‡πà‡∏á‡∏™‡∏π‡∏á‡∏¢‡∏¥‡πà‡∏á‡πÄ‡∏£‡πá‡∏ß
    local char = Player.Character
    local hrp = char and char:FindFirstChild("HumanoidRootPart")
    if not hrp then return end

    -- ‡∏õ‡∏¥‡∏î‡∏ä‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏ö‡∏¥‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏±‡∏ô‡πÄ‡∏î‡πâ‡∏á
    for _, p in ipairs(char:GetDescendants()) do
        if p:IsA("BasePart") then p.CanCollide = false end
    end

    -- ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏•‡∏π‡∏õ‡∏ö‡∏¥‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏ó‡∏µ‡∏•‡∏∞‡∏ô‡∏¥‡∏î
    while hrp and (hrp.Position - targetPos).Magnitude > 5 do
        local current = hrp.Position
        local direction = (targetPos - current).Unit
        local newPos = current + direction * speed * 0.05 -- step ‡πÄ‡∏•‡πá‡∏Å‡πÜ
        hrp.CFrame = CFrame.new(newPos, targetPos) -- ‡∏´‡∏±‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏≤‡∏ö‡∏≠‡∏™
        task.wait(0.03)
    end

    -- ‡πÄ‡∏õ‡∏¥‡∏î‡∏ä‡∏ô‡∏Å‡∏•‡∏±‡∏ö
    for _, p in ipairs(char:GetDescendants()) do
        if p:IsA("BasePart") then p.CanCollide = true end
    end
end



local function hpFreezeCheck(model)
    task.spawn(function()
        while model and not isKillBossDone() do
            local bossHPObj = workspace.Interactions.Boss.BossInstances:FindFirstChild(model.Name)
            if bossHPObj and bossHPObj:FindFirstChild("Health") then
                local oldHP = bossHPObj.Health.Value
                task.wait(5)

                local newObj = workspace.Interactions.Boss.BossInstances:FindFirstChild(model.Name)
                if newObj and newObj:FindFirstChild("Health") then
                    local newHP = newObj.Health.Value

                    if newHP == oldHP then
                        print("‚õî HP ‡πÑ‡∏°‡πà‡∏•‡∏î‡πÄ‡∏•‡∏¢ 5 ‡∏ß‡∏¥ ‚Üí ‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó‡∏ö‡∏≠‡∏™‡πÉ‡∏´‡∏°‡πà")
                        startBossFight()
                        return
                    end
                end
            end
        end
    end)
end
------------------------------------------------------------
-- üî• ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏µ‡∏ö‡∏≠‡∏™‡∏ó‡∏∏‡∏Å‡πÜ 3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ (Auto Boss Checker)
------------------------------------------------------------
task.spawn(function()
    while true do
        task.wait(3)

        -- ‡∏ñ‡πâ‡∏≤‡πÄ‡∏Ñ‡∏ß‡∏™ KillBoss ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πá‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ä‡πá‡∏Ñ
        if isKillBossDone and isKillBossDone() then
            -- print("üèÜ ‡∏ö‡∏≠‡∏™‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß ‡πÑ‡∏°‡πà‡πÄ‡∏ä‡πá‡∏Ñ‡∏ï‡πà‡∏≠")
            continue
        end

        local boss = findNearestBoss
            and findNearestBoss()

        if boss then
            local bossHRP = boss:FindFirstChild("HumanoidRootPart")

            if bossHRP then
                print("‚öîÔ∏è ‡∏û‡∏ö boss ‚Üí ‡∏ï‡∏µ‡πÄ‡∏•‡∏¢:", boss.Name)

                -- ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏Å‡∏•‡πâ‡∏ö‡∏≠‡∏™‡πÅ‡∏ö‡∏ö‡∏•‡∏∑‡πà‡∏ô ‡πÜ
                pcall(function()
                    smoothFlyToPosition(bossHRP.Position + Vector3.new(0, 8, 0), 45)
                end)

                -- ‡∏¢‡∏¥‡∏á Breath ‡πÉ‡∏™‡πà‡∏ö‡∏≠‡∏™
                local dragon = GetAnyDragon and GetAnyDragon()
                if dragon and dragon.Remotes and dragon.Remotes:FindFirstChild("PlaySoundRemote") then
                    pcall(function()
                        dragon.Remotes.PlaySoundRemote:FireServer("Breath", "Bosses", bossHRP)
                    end)
                end
            end

        else
            print("‚è≥ ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ö‡∏≠‡∏™‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ ‚Üí ‡∏£‡∏≠ 3 ‡∏ß‡∏¥‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏ä‡πá‡∏Ñ‡πÉ‡∏´‡∏°‡πà")
        end
    end
end)


local function startBossFight()
    print("üî• ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö Boss Fight ‡πÅ‡∏ö‡∏ö‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞...")

    if isKillBossDone() then
        print("üéâ ‡πÄ‡∏Ñ‡∏ß‡∏™ KillBoss ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß (1/1)! ‡∏Ç‡πâ‡∏≤‡∏°‡∏ö‡∏≠‡∏™")
        return
    end

    -- ‚ñ∂Ô∏è ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏¥‡∏ß
    pcall(function()
        ReplicatedStorage.Remotes.CreateBossQueueRemote:InvokeServer("NoOne")
    end)
    task.wait(6)

    -- ‚ñ∂Ô∏è ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ö‡∏≠‡∏™
    pcall(function()
        ReplicatedStorage.Remotes.StartBossQueueRemote:InvokeServer()
    end)
    task.wait(17)

    -- Remote
    local dragon = GetAnyDragon()
    if not dragon then
        warn("‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏°‡∏±‡∏á‡∏Å‡∏£")
        return
    end

    local remote = dragon.Remotes:FindFirstChild("PlaySoundRemote")
    if not remote then
        warn("‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ PlaySoundRemote")
        return
    end

    -- üîÑ Task ‡∏ï‡∏£‡∏ß‡∏à‡∏´‡∏≤‡∏ö‡∏≠‡∏™‡∏ó‡∏∏‡∏Å 5 ‡∏ß‡∏¥
    task.spawn(function()
        while not isKillBossDone() do
            task.wait(5)

            if isKillBossDone() then
                print("üèÜ ‡πÄ‡∏Ñ‡∏ß‡∏™‡∏ö‡∏≠‡∏™‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡∏´‡∏¢‡∏∏‡∏î‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏≠‡∏™")
                return
            end

            local currentBoss = findNearestBoss()
            
            if not currentBoss then
                print("‚è≥ ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ö‡∏≠‡∏™‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÉ‡∏ô‡∏™‡∏ô‡∏≤‡∏° ‚Üí ‡∏£‡∏≠ 5 ‡∏ß‡∏¥")
                task.wait(3)
                continue
            end

            print("üü¢ ‡πÄ‡∏à‡∏≠‡∏ö‡∏≠‡∏™‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤:", currentBoss.Name, "‚Üí ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÇ‡∏à‡∏°‡∏ï‡∏µ!")
            hpFreezeCheck(currentBoss)
        end
    end)

    -- üî• Loop ‡∏´‡∏•‡∏±‡∏Å (Loop ‡∏ô‡∏≠‡∏Å: ‡∏´‡∏≤‡∏ö‡∏≠‡∏™‡πÉ‡∏´‡∏°‡πà)
    while not isKillBossDone() do
        -- ‚≠ê‚≠ê ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ö‡∏≠‡∏™‡∏ó‡∏∏‡∏Å‡∏£‡∏≠‡∏ö Loop ‚≠ê‚≠ê
        local targetModel = findNearestBoss()
        
        if not targetModel then
            print("‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ö‡∏≠‡∏™‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ ‚Üí ‡∏£‡∏≠ 2 ‡∏ß‡∏¥")
            task.wait(2)
            continue
        end

        local bossHRP = targetModel:FindFirstChild("HumanoidRootPart")
        if not bossHRP then
            print("‚ö†Ô∏è ‡∏ö‡∏≠‡∏™‡πÑ‡∏°‡πà‡∏°‡∏µ HRP ‚Üí ‡∏Ç‡πâ‡∏≤‡∏°")
            task.wait(1)
            continue
        end

        -- ‡∏´‡∏≤ HP ‡∏Ç‡∏≠‡∏á‡∏ö‡∏≠‡∏™‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ
        local bossName = targetModel.Name
        local bossHP = Workspace.Interactions.Boss.BossInstances:FindFirstChild(bossName)
        
        if not bossHP or not bossHP:FindFirstChild("Health") then
            print("‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏°‡∏µ HP ‡∏Ç‡∏≠‡∏á‡∏ö‡∏≠‡∏™:", bossName)
            task.wait(1)
            continue
        end

        local lastHP = bossHP.Health.Value

        -- üïí ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÉ‡∏´‡∏°‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ä‡πá‡∏Ñ 8 ‡∏ß‡∏¥‡πÅ‡∏£‡∏Å
        local firstHP = bossHP.Health.Value
        local firstWarpTime = tick()
        local retriedWarpOnce = false

        -- ‚è± ‡∏ï‡∏±‡∏ß‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤ HP ‡πÑ‡∏°‡πà‡∏•‡∏î
        local noDamageTime = 0
        local mode = "BOSS"

        print("‚öîÔ∏è ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡∏ö‡∏≠‡∏™:", targetModel.Name)

        -- üî• Loop ‡πÉ‡∏ô: ‡∏ï‡∏µ‡∏ö‡∏≠‡∏™‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ‡∏à‡∏ô‡∏ï‡∏≤‡∏¢ ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Ñ‡∏ß‡∏™‡πÄ‡∏™‡∏£‡πá‡∏à
        while bossHP.Health.Value > 0 and not isKillBossDone() do

            -----------------------------
            -- üìå ‡πÇ‡∏´‡∏°‡∏î 1: ‡∏ï‡∏µ‡∏ö‡∏≠‡∏™‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
            -----------------------------
            if mode == "BOSS" then
                -- ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ï‡∏¥‡∏î‡∏ö‡∏≠‡∏™‡∏ó‡∏∏‡∏Å ‡πÜ ‡∏£‡∏≠‡∏ö (‡∏Å‡∏±‡∏ô‡∏î‡∏µ‡∏î)
                if Player.Character and Player.Character.PrimaryPart then
                    print("üéØ ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏´‡∏≤‡∏ö‡∏≠‡∏™:", targetModel.Name, "‡∏ó‡∏µ‡πà‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á:", bossHRP.Position)
                    smoothFlyToPosition(bossHRP.Position + Vector3.new(0, 6, 0), 45)
                end

                -- ‡∏¢‡∏¥‡∏á‡∏£‡∏±‡∏ß‡πÉ‡∏™‡πà‡∏ö‡∏≠‡∏™
                pcall(function()
                    remote:FireServer("Breath", "Bosses", bossHRP)
                end)

                -- ‡∏ï‡∏£‡∏ß‡∏à HP ‡∏ß‡πà‡∏≤‡∏•‡∏î‡πÑ‡∏´‡∏°
                if bossHP.Health.Value == lastHP then
                    noDamageTime += 0.1
                else
                    noDamageTime = 0
                end

                -- ‚≠ê 8 ‡∏ß‡∏¥‡πÅ‡∏£‡∏Å‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡∏µ‡∏ö‡∏≠‡∏™ ‡∏ñ‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡πÑ‡∏°‡πà‡∏•‡∏î‡πÄ‡∏•‡∏¢
                if (not retriedWarpOnce)
                    and (tick() - firstWarpTime >= 8)
                    and (bossHP.Health.Value == firstHP) then

                    print("‚è±Ô∏è 8 ‡∏ß‡∏¥‡πÅ‡∏•‡πâ‡∏ß‡∏ö‡∏≠‡∏™‡πÑ‡∏°‡πà‡πÇ‡∏î‡∏ô‡∏î‡∏≤‡πÄ‡∏°‡∏à‡πÄ‡∏•‡∏¢ ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ã‡πâ‡∏≥")
                    print("üîÑ ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ã‡πâ‡∏≥‡πÑ‡∏õ‡∏´‡∏≤‡∏ö‡∏≠‡∏™:", targetModel.Name, "‡∏ó‡∏µ‡πà‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á:", bossHRP.Position)

                    if Player.Character and Player.Character.PrimaryPart then
                        smoothFlyToPosition(bossHRP.Position + Vector3.new(0, 6, 0), 45)
                    end

                    retriedWarpOnce = true
                end

                -- ‡∏ñ‡πâ‡∏≤ 2 ‡∏ß‡∏¥ HP ‡πÑ‡∏°‡πà‡∏Ç‡∏¢‡∏±‡∏ö ‚Üí ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏õ‡∏ï‡∏µ‡∏°‡πá‡∏≠‡∏ö
                if noDamageTime >= 2 then
                    print("‚ö†Ô∏è 2 ‡∏ß‡∏¥ HP ‡∏ö‡∏≠‡∏™‡πÑ‡∏°‡πà‡∏•‡∏î ‚Üí ‡πÑ‡∏õ‡∏ï‡∏µ‡∏°‡πá‡∏≠‡∏ö‡πÅ‡∏Å‡πâ‡∏Ñ‡πâ‡∏≤‡∏á!")
                    mode = "MOB"
                end
            end

            -----------------------------
            -- üìå ‡πÇ‡∏´‡∏°‡∏î 2: ‡πÑ‡∏õ‡∏ï‡∏µ‡∏°‡πá‡∏≠‡∏ö‡∏à‡∏ô‡∏ö‡∏≠‡∏™‡πÄ‡∏™‡∏µ‡∏¢‡πÄ‡∏•‡∏∑‡∏≠‡∏î
            -----------------------------
            if mode == "MOB" then
                local mob = findMobWithHealth()
                local d = GetAnyDragon()

                if mob and d then
                    local mobPos = mob:IsA("Model") and mob.PrimaryPart.Position or mob.Position
                    teleportToPosition(mobPos)
                    hyperAttackMob(mob, d)
                    task.wait(0.5)
                end

                -- ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ï‡∏µ‡∏ö‡∏≠‡∏™
                if bossHP.Health.Value < lastHP then
                    print("üí• ‡∏ö‡∏≠‡∏™‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÇ‡∏î‡∏ô‡∏î‡∏≤‡πÄ‡∏°‡∏à ‚Üí ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ï‡∏µ‡∏ö‡∏≠‡∏™!")
                    mode = "BOSS"
                    noDamageTime = 0
                end
            end

            lastHP = bossHP.Health.Value
            task.wait(0.1)
        end

        print("üíÄ ‡∏ö‡∏≠‡∏™", targetModel.Name, "‡∏ï‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Ñ‡∏ß‡∏™‡πÄ‡∏™‡∏£‡πá‡∏à!")
        
        -- ‚≠ê ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å Loop ‡πÉ‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏ö‡∏≠‡∏™‡πÉ‡∏´‡∏°‡πà
        task.wait(1)
    end

    print("üõë ‡∏à‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ‡∏Å‡∏±‡∏ö‡∏ö‡∏≠‡∏™‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß!")

    if isKillBossDone() then
        print("üèÜ ‡πÄ‡∏Ñ‡∏ß‡∏™ KillBoss ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå!")
    end
end

--========================================================--
-- üîß LOAD SERVICES (‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)
--========================================================--
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Remotes = ReplicatedStorage:WaitForChild("Remotes")

local Workspace = game:GetService("Workspace")

--========================================================--
-- üîí SAFE FIRE / SAFE INVOKE
--========================================================--
local function safeFire(remote, ...)
    if not remote then return end
    local args = { ... }
    local ok, err = pcall(function()
        remote:FireServer(unpack(args))
    end)
    if not ok then warn("‚ùå Fire failed:", remote.Name, err) end
end

local function safeInvoke(remote, ...)
    if not remote then return end
    local args = { ... }
    local ok, result = pcall(function()
        return remote:InvokeServer(unpack(args))
    end)
    if not ok then warn("‚ùå Invoke failed:", remote.Name, result) end
    return result
end

--========================================================--
-- ü•ö 1) EGG TUTORIAL
--========================================================--
local function completeEggTutorial()
    safeFire(Remotes.PostTutorialStageRemote, "InteractWithEgg")
    safeInvoke(Remotes.ReplicateItemRemote, {Name="Tutorial", Category="Eggs"}, "Model")
    safeFire(Remotes.PostTutorialStageRemote, "CompleteEggNestInteraction")
    safeInvoke(Remotes.SetTutorialStageRemote, "HatchingEggs")
end

--========================================================--
-- üîç ‡∏´‡∏≤ INCUBATOR
--========================================================--
local function getPlayerIncubator()
    local PlotsFolder = Workspace:WaitForChild("Interactions")
        :WaitForChild("Plots")
        :WaitForChild("Plots")

    local plotName = LocalPlayer.Name .. "_Plot"
    local playerPlot = PlotsFolder:FindFirstChild(plotName)
    if not playerPlot then
        warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö Plot ‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô:", plotName)
        return nil
    end

    return playerPlot.Base
        and playerPlot.Base.Buildings
        and playerPlot.Base.Buildings:FindFirstChild("Incubator")
end

--========================================================--
-- üß™ 2) INCUBATOR TUTORIAL
--========================================================--
local function completeIncubatorTutorial()
    local incubator = getPlayerIncubator()
    if not incubator then return end

    safeFire(Remotes.PostTutorialStageRemote, "InteractWithIncubator")
    safeInvoke(incubator.IncubateRemote, "Tutorial")
    safeFire(Remotes.PostTutorialStageRemote, "PlaceEggInIncubator")
    safeInvoke(incubator.ClaimRemote)
    safeFire(Remotes.PostTutorialStageRemote, "ClaimEgg")
    safeInvoke(Remotes.SetTutorialStageRemote, "GrowingDragon")
    safeInvoke(Remotes.EquipDragonRemote, "1")
end

--========================================================--
-- üî• 3) GROW DRAGON TUTORIAL
--========================================================--
local function completeGrowDragonTutorial()
    safeFire(Remotes.PostTutorialStageRemote, "OpenInteractMenuWithDragon")
    safeInvoke(Remotes.GrowDragonRemote, "1")
    safeFire(Remotes.PostTutorialStageRemote, "GrowDragon")
    safeFire(Remotes.PostTutorialStageRemote, "RideDragon")
    safeInvoke(Remotes.SetTutorialStageRemote, "SkillsIntroduction")
    safeInvoke(Remotes.EquipDragonRemote, "1")
end

--========================================================--
-- ‚úàÔ∏è 4) FLYING TUTORIAL
--========================================================--
local function completeFlyingTutorialStage()
    local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    local dragons = char:WaitForChild("Dragons")
    local dragon = dragons:FindFirstChild("1")
    if not dragon then return end

    safeFire(dragon.Remotes.FlyingRemote, true)
    safeFire(Remotes.PostTutorialStageRemote, "FlyDragon")

    safeFire(Remotes.RidingRingTouchedRemote, "Tutorial")
    safeFire(Remotes.PostTutorialStageRemote, "FlyThroughRing1")

    safeFire(LocalPlayer.Remotes.SetCurrentPlotRemote)
    safeFire(Remotes.SetPlotThemeRemote, "")

    safeFire(Remotes.RidingRingTouchedRemote, "Tutorial")
    safeFire(Remotes.PostTutorialStageRemote, "FlyThroughRing2")

    safeInvoke(Remotes.ReplicateItemRemote, {Name="DefaultPlotTheme",Category="PlotThemes"},"Atmosphere")
    safeInvoke(Remotes.ReplicateItemRemote, {Name="DefaultPlotTheme",Category="PlotThemes"},"Sky")

    safeFire(Remotes.RidingRingTouchedRemote, "Tutorial")
    safeFire(Remotes.PostTutorialStageRemote, "FlyThroughRing3")

    safeFire(Remotes.PostTutorialStageRemote, "GotCloseToTarget")
    safeFire(Remotes.PostTutorialStageRemote, "StartedFireBreath")
    safeFire(Remotes.PostTutorialStageRemote, "DestroyTarget1")
    safeFire(Remotes.PostTutorialStageRemote, "DestroyTarget2")
    safeFire(Remotes.PostTutorialStageRemote, "DestroyTarget3")

    safeFire(Remotes.PoppedDiscoverIndicatorRemote,"EggNest","Tutorial")
    safeFire(Remotes.PostTutorialStageRemote, "InteractWithEgg2")
    safeFire(Remotes.PostTutorialStageRemote, "CompleteEggNestInteraction2")

    safeInvoke(Remotes.SetTutorialStageRemote, "NextWorld")
    safeInvoke(Remotes.ReplicateItemRemote, {Name="CoBreed",Category="Eggs"},"Model")
end

--========================================================--
-- üß™ 5) SECOND INCUBATOR
--========================================================--
local function completeSecondIncubatorTutorial()
    local incubator = getPlayerIncubator()
    if not incubator then return end

    safeInvoke(Remotes.GetTeleportRemote, "Plot", LocalPlayer.Name .. "_Plot")
    safeFire(LocalPlayer.Remotes.SetCurrentPlotRemote)
    safeFire(Remotes.SetPlotThemeRemote, "")

    safeFire(Remotes.PostTutorialStageRemote, "InteractWithIncubator2")
    safeInvoke(incubator.IncubateRemote, "TutorialCompleteEgg")

    safeInvoke(Remotes.ReplicateItemRemote, {
        Name="TutorialCompleteEgg",
        Category="Eggs"
    }, "Model")

    safeFire(Remotes.PostTutorialStageRemote, "PlaceEggInIncubator2")
    safeInvoke(incubator.ClaimRemote)

    safeFire(Remotes.PostTutorialStageRemote, "ClaimEgg2")
    safeInvoke(Remotes.SetTutorialStageRemote, "Complete")
end

local function findAnyLobbyEgg()
    local folder = workspace:FindFirstChild("Interactions")
        and workspace.Interactions:FindFirstChild("Nodes")
        and workspace.Interactions.Nodes:FindFirstChild("Eggs")
        and workspace.Interactions.Nodes.Eggs:FindFirstChild("ActiveNodes")

    if not folder then
        warn("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö ActiveNodes ‡∏Ç‡∏≠‡∏á‡πÑ‡∏Ç‡πà")
        return nil
    end

    for _, node in ipairs(folder:GetChildren()) do
        local egg = node:FindFirstChild("EggModel")
        if egg then
            return egg, node
        end
    end

    return nil
end


-- ‚≠ê ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á ‡πÑ‡∏°‡πà‡πÄ‡∏î‡πâ‡∏á ‡πÑ‡∏°‡πà‡∏ï‡∏¥‡∏î
local function tpTo(pos)
    local char = Player.Character
    if not char or not char.PrimaryPart then return end

    -- ‡∏õ‡∏¥‡∏î‡∏ä‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏±‡∏ô‡πÄ‡∏î‡πâ‡∏á
    for _, p in ipairs(char:GetDescendants()) do
        if p:IsA("BasePart") then
            p.CanCollide = false
        end
    end

    char:PivotTo(CFrame.new(pos + Vector3.new(0, 3, 0))) -- ‡∏¢‡∏∑‡∏ô‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡πÑ‡∏Ç‡πà‡∏ô‡∏¥‡∏î‡∏ô‡∏∂‡∏á

    task.wait(0.2)

    -- ‡πÄ‡∏õ‡∏¥‡∏î‡∏ä‡∏ô‡∏Å‡∏•‡∏±‡∏ö
    for _, p in ipairs(char:GetDescendants()) do
        if p:IsA("BasePart") then
            p.CanCollide = true
        end
    end
end


local function startLobbyEggQuest()
    print("ü•ö ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÑ‡∏Ç‡πà Lobby...")

    local egg, node = findAnyLobbyEgg()

    if not egg then
        print("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÑ‡∏Ç‡πà Lobby ‡πÄ‡∏•‡∏¢ (ActiveNodes ‡πÑ‡∏°‡πà‡∏°‡∏µ EggModel)")
        return
    end

    print("ü•ö ‡πÄ‡∏à‡∏≠‡πÑ‡∏Ç‡πà:", egg.Name, "‡πÉ‡∏ô Node:", node.Name)

    -- ‚≠ê ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡∏´‡∏≤‡πÑ‡∏Ç‡πà‡∏Å‡πà‡∏≠‡∏ô (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç!!)
    if egg:IsA("Model") then
        if egg.PrimaryPart then
            tpTo(egg.PrimaryPart.Position)
        else
            -- ‡∏´‡∏≤‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡πÇ‡∏°‡πÄ‡∏î‡∏•
            local part = egg:FindFirstChildWhichIsA("BasePart")
            if part then tpTo(part.Position) end
        end
    elseif egg:IsA("BasePart") then
        tpTo(egg.Position)
    end

    task.wait(0.4)

    -- ‚≠ê ‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏Ç‡πà‡∏à‡∏£‡∏¥‡∏á
    local harvested = node:FindFirstChild("Harvested")
                    or egg:FindFirstChild("Harvested")

    if harvested then
        harvested.Value = true
        print("‚ú® ‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏Ç‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!")
    else
        print("‚ö†Ô∏è ‡πÑ‡∏Ç‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ Harvested ‚Üí ‡∏≠‡∏≤‡∏à‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ Remote")
    end

    task.wait(0.5)
end


-------------------------------------------------------------
-- üåç ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏ä‡πá‡∏Ñ‡πÄ‡∏Ñ‡∏ß‡∏™‡∏Ç‡∏≠‡∏á "‡πÇ‡∏•‡∏Å‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô"
-------------------------------------------------------------
local function isCurrentWorldFullyCompleted()
    local placeId = game.PlaceId
    local config = WORLD_MISSION_REQUIREMENTS[placeId]

    if not config then
        warn("‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Ñ‡∏ß‡∏™‡∏Ç‡∏≠‡∏á‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ:", placeId)
        return false
    end

    local worldName = config.WorldName
    local missions = config.Missions

    for missionName, requiredValue in pairs(missions) do
        -- ‡∏≠‡πà‡∏≤‡∏ô progress ‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å Data
        local ok, progress = pcall(function()
            return Player.Data.WorldMissions[worldName].Missions[missionName].Progress.Value
        end)

        if not ok then
            warn("‚ö†Ô∏è ‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏Ñ‡∏ß‡∏™‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î:", missionName)
            return false
        end

        if progress < requiredValue then
            return false
        end
    end

    return true -- ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
end


local lastEggProgressUpdate = tick()
local isEggQuestActive = false
local lastEggProgressValue = 0

task.spawn(function()
    while true do
        task.wait(10) -- ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ó‡∏∏‡∏Å 10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ

        -- ‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡πà‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥ Egg Quest ‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
        if isEggQuestActive and not isEggDone() then
            local currentEggProgress = getMissionValue("EggQuest")
            
            -- ‡∏ñ‡πâ‡∏≤ Progress ‡∏Ç‡∏¢‡∏±‡∏ö ‚Üí ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÄ‡∏ß‡∏•‡∏≤
            if currentEggProgress > lastEggProgressValue then
                lastEggProgressValue = currentEggProgress
                lastEggProgressUpdate = tick()
                print("‚úÖ Egg Progress ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï:", currentEggProgress)
            else
                -- ‡πÑ‡∏°‡πà‡∏Ç‡∏¢‡∏±‡∏ö‡πÄ‡∏Å‡∏¥‡∏ô 120 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ (2 ‡∏ô‡∏≤‡∏ó‡∏µ)
                if tick() - lastEggProgressUpdate >= 60 then
                    print("‚õî [EGG STUCK] ‡πÄ‡∏Ñ‡∏ß‡∏™‡πÑ‡∏Ç‡πà‡∏Ñ‡πâ‡∏≤‡∏á‡πÄ‡∏Å‡∏¥‡∏ô 2 ‡∏ô‡∏≤‡∏ó‡∏µ!")
                    print("üîÑ ‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î...")
                    
                    -- ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡πà‡∏≤
                    isEggQuestActive = false
                    lastEggProgressUpdate = tick()
                    
                    -- ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏Å‡∏•‡∏±‡∏ö‡πÇ‡∏•‡∏Å‡πÄ‡∏î‡∏¥‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä
                    local currentPlaceId = game.PlaceId
                    task.wait(2)
                    
                    pcall(function()
                        ReplicatedStorage.Remotes.WorldTeleportRemote:InvokeServer(currentPlaceId, {})
                    end)
                    
                    task.wait(5)
                end
            end
        end
    end
end)

local function startEggQuest()
    if isEggDone() then
        print("ü•ö ‡∏Ç‡πâ‡∏≤‡∏°: ‡πÄ‡∏Ñ‡∏ß‡∏™‡πÑ‡∏Ç‡πà‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!")
        return
    end

    print("üî• ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Ñ‡∏ß‡∏™‡πÑ‡∏Ç‡πà (0/5)")
    
    -- ‚≠ê ‡πÄ‡∏õ‡∏¥‡∏î‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ß‡πà‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥ Egg Quest
    isEggQuestActive = true
    lastEggProgressUpdate = tick()
    lastEggProgressValue = getMissionValue("EggQuest")

    while not isEggDone() do
        tpToGrassEgg()
        task.wait(1)
    end

    -- ‚≠ê ‡∏õ‡∏¥‡∏î‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏™‡∏£‡πá‡∏à
    isEggQuestActive = false
    print("üéâ ‡πÄ‡∏Ñ‡∏ß‡∏™‡πÑ‡∏Ç‡πà‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå! (5/5)")
end

------------------------------------------------------------
-- üîÑ ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏Ñ‡∏ß‡∏™‡πÇ‡∏•‡∏Å (Auto Check Every 5 Sec)
------------------------------------------------------------
task.spawn(function()
    while true do
        task.wait(20)

        local placeId = game.PlaceId
        local config = WORLD_MISSION_REQUIREMENTS[placeId]

        if config then
            local worldName = config.WorldName

            if isCurrentWorldFullyCompleted() then
                print("üîé [AUTO CHECK] ‡πÇ‡∏•‡∏Å " .. worldName .. " ‡πÄ‡∏Ñ‡∏ß‡∏™‡∏Ñ‡∏£‡∏ö‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ï‡πà‡∏≠‡∏ó‡∏±‡∏ô‡∏ó‡∏µ")
                teleportToNextNeededWorld()
                task.wait(20) -- ‡∏Å‡∏±‡∏ô spam ‡∏ß‡∏≤‡∏õ
            else
                print("‚è≥ [AUTO CHECK] ‡πÇ‡∏•‡∏Å " .. worldName .. " ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö")
            end
        else
            print("‚ö†Ô∏è [AUTO CHECK] ‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö config:", placeId)
        end
    end
end)

------------------------------------------------------------
-- ‚è≥ WAIT FOR SpendTime (450) THEN TP
------------------------------------------------------------
local function waitSpendTimeThenTP()
    print("")

    while not isSpendTimeDone() do
       print("‚è≥ SpendTime:", getMissionValue("SpendTime"), "/450")
        task.wait(3)
    end

    print("üéâ SpendTime ‡∏Ñ‡∏£‡∏ö 450 ‡πÅ‡∏•‡πâ‡∏ß! ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡πÇ‡∏•‡∏Å‡∏ñ‡∏±‡∏î‡πÑ‡∏õ...")
end
task.spawn(function()
    print("üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö FULL AUTO ‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÇ‡∏•‡∏Å")

    -- ‚≠ê‚≠ê‚≠ê ‡πÄ‡∏ä‡πá‡∏Ñ TotalCompleted ‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‚≠ê‚≠ê‚≠ê
    local placeId = game.PlaceId
    
    if isWorldFullyCompletedById(placeId) then
        print("‚úÖ ‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß (TotalCompleted ‡∏Ñ‡∏£‡∏ö) ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡πÇ‡∏•‡∏Å‡∏ñ‡∏±‡∏î‡πÑ‡∏õ")
        task.wait(2)
        teleportToNextNeededWorld()
        return
    end

    -- ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏£‡πá‡∏à ‚Üí ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡πÄ‡∏Ñ‡∏ß‡∏™
    print("‚ö†Ô∏è ‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏£‡πá‡∏à ‚Üí ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡πÄ‡∏Ñ‡∏ß‡∏™")

    --------------------------------------------------------------------
    -- üè† LOBBY (3475397644)
    --------------------------------------------------------------------
    if game.PlaceId == 3475397644 then
        print("üåç World = Lobby (3475397644)")

        -- ----------- Check Tutorial -----------
        if hasNestPath() then
            print("üìå ‡∏û‡∏ö Nest Path ‚Üí Run Tutorial")

            for i = 1,5 do
                completeEggTutorial()
                wait(0.1)
                completeIncubatorTutorial()
                wait(0.1)
                completeGrowDragonTutorial()
                wait(0.1)
                completeFlyingTutorialStage()
                wait(0.1)
                completeSecondIncubatorTutorial()
                wait(0.1)
            end

            task.wait(2)
            ReplicatedStorage.Remotes.WorldTeleportRemote:InvokeServer(3475397644, {})
            return
        end

        -- ----------- LOBBY NORMAL MISSIONS -----------
        print("üåü ‡πÑ‡∏°‡πà‡∏°‡∏µ Nest ‚Üí Lobby Missions")

        -- ü•ö Lobby Egg
        if not isLobbyEggDone() then
            print("ü•ö ‡πÄ‡∏Ñ‡∏ß‡∏™‡πÑ‡∏Ç‡πà Lobby (1/1)")
            setCurrentMission("EggQuest (Lobby)")
            startLobbyEggQuest()
            repeat task.wait(1) until isLobbyEggDone()
        end
        print("ü•ö Lobby Egg ‚úî")

        -- üåÄ Ring
        if not isRingDone() then
            print("üåÄ RidingRing Lobby")
            setCurrentMission("RidingRing")
            startRidingRingFly()
            repeat task.wait(1) until isRingDone()
        end

        print("üåÄ RidingRing ‚úî")

        teleportToNextNeededWorld()
        return
    end

    --------------------------------------------------------------------
    -- üî•üî• WORLD ‡∏≠‡∏∑‡πà‡∏ô (Grassland / Jungle / Volcano / ‡∏Ø‡∏•‡∏Ø)
    --------------------------------------------------------------------

    ----------------------------------------------------
    -- 1) Egg (5/5)
    ----------------------------------------------------
    if not isEggDone() then
        setCurrentMission("EggQuest")
        startEggQuest()
        while not isEggDone() do task.wait(1) end
    end
    print("ü•ö Egg ‚úî")

    ----------------------------------------------------
    -- 2) Kill mobs (15/15)
    ----------------------------------------------------
    if not isKillDone() then
        setCurrentMission("KillMobs")
        startKillQuest()
        while not isKillDone() do task.wait(1) end
    end
    print("‚öîÔ∏è Kill Mobs ‚úî")

    ----------------------------------------------------
    -- 3) Harvest (50/50)
    ----------------------------------------------------
    if not isHarvestDone() then
        setCurrentMission("Harvest")
        attackFoodNodes()
        while not isHarvestDone() do task.wait(1) end
    end
    print("üå≥ Harvest ‚úî")

    ----------------------------------------------------
    -- 4) Treasure Chest (3/3)
    ----------------------------------------------------
    if not isTreasureDone() then
        setCurrentMission("TreasureChest")
        startAutoTeleportTreasure()
        while not isTreasureDone() do task.wait(1) end
        stopAutoTeleportTreasure()
    end
    print("üíé Treasure ‚úî")

    ----------------------------------------------------
    -- 5) Kill Boss (1/1)
    ----------------------------------------------------
if not isKillBossDone() then
    setCurrentMission("KillBoss")

    local timeout = tick() + 180  -- ‚è∞ 5 ‡∏ô‡∏≤‡∏ó‡∏µ timeout
    local retryCount = 0
    local maxRetries = 3  -- ‡∏•‡∏≠‡∏á‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 3 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á

    while not isKillBossDone() and tick() < timeout and retryCount < maxRetries do
        print("üî• ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà", retryCount + 1, "/ 3")
        
        -- üõ†Ô∏è ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ö‡∏≠‡∏™
        local success = pcall(function()
            startBossFight()
        end)

        if not success then
            warn("‚ö†Ô∏è startBossFight() ‡πÄ‡∏Å‡∏¥‡∏î error ‚Üí ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô 5 ‡∏ß‡∏¥")
            task.wait(5)
        end

        retryCount += 1

        -- ‚è≥ ‡∏£‡∏≠‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå 60 ‡∏ß‡∏¥ (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏£‡πá‡∏à‡∏à‡∏∞‡∏•‡∏≠‡∏á‡∏£‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà)
        local waitStart = tick()
        while not isKillBossDone() and (tick() - waitStart) < 60 do
            task.wait(1)
        end

        if isKillBossDone() then
            print("üèÜ ‡πÄ‡∏Ñ‡∏ß‡∏™ KillBoss ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!")
            break
        else
            print("‚ö†Ô∏è 60 ‡∏ß‡∏¥‡πÅ‡∏•‡πâ‡∏ß‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏£‡πá‡∏à ‚Üí ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà...")
            task.wait(3)
        end
    end
end

if isKillBossDone() then
    print("üêâ Kill Boss ‚úî")
else
    warn("‚õî ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏ö‡∏≠‡∏™‡πÑ‡∏î‡πâ (timeout ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Å‡∏¥‡∏ô retry limit)")
end
    ----------------------------------------------------
    -- 6) SpendTime (450/450)
    ----------------------------------------------------
    if not isSpendTimeDone() then
        setCurrentMission("SpendTime")
        print("‚è≥ ‡∏£‡∏≠ SpendTime ‡∏Ñ‡∏£‡∏ö 450 ...")
        while not isSpendTimeDone() do
            print("‚è≥ SpendTime:", getMissionValue("SpendTime"), "/450")
            task.wait(3)
        end
    end
    print("‚è≥ SpendTime ‚úî")

    ----------------------------------------------------
    -- 7) ‡πÑ‡∏õ‡πÇ‡∏•‡∏Å‡∏ñ‡∏±‡∏î‡πÑ‡∏õ (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Ñ‡∏ß‡∏™‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ‡∏Ñ‡∏£‡∏ö‡∏à‡∏£‡∏¥‡∏á)
    ----------------------------------------------------
    print("üîé ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏Ñ‡∏ß‡∏™‡πÇ‡∏•‡∏Å‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô...")

    if isCurrentWorldFullyCompleted() then
        print("üéâ ‡πÄ‡∏Ñ‡∏ß‡∏™‡πÇ‡∏•‡∏Å " .. currentWorldName .. " ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß! ‚Üí ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÇ‡∏•‡∏Å‡∏ñ‡∏±‡∏î‡πÑ‡∏õ")
        task.wait(2)
        teleportToNextNeededWorld()
    else
        print("‚õî ‡πÄ‡∏Ñ‡∏ß‡∏™‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö 100% ‚Üí ‡πÑ‡∏°‡πà‡∏ß‡∏≤‡∏£‡πå‡∏õ")
    end
end)

------------------------------------------------------------
-- üü• ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à Anti-Stuck (2 ‡∏ô‡∏≤‡∏ó‡∏µ‡πÑ‡∏°‡πà‡∏Ç‡∏¢‡∏±‡∏ö = Hop Server)
------------------------------------------------------------
task.spawn(function()
    while true do
        task.wait(10)

        local total = getTotalMissionProgress()

        if total > lastTotalProgress then
            -- ‡πÄ‡∏Ñ‡∏ß‡∏™‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤
            lastTotalProgress = total
            lastProgressCheck = tick()
        else
            -- ‡∏ñ‡πâ‡∏≤ 2 ‡∏ô‡∏≤‡∏ó‡∏µ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏Ç‡∏¢‡∏±‡∏ö
            if tick() - lastProgressCheck >= 120 then
                print("‚õî ‡∏Ñ‡πâ‡∏≤‡∏á‡πÄ‡∏Å‡∏¥‡∏ô 2 ‡∏ô‡∏≤‡∏ó‡∏µ ‚Üí Hop Server!")
                hopToPreviousWorld()
                task.wait(10)
            end
        end
    end
end)
